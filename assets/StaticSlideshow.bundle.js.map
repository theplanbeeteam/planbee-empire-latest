{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./node_modules/just-debounce/index.js","webpack:///./source/scripts/sections/StaticSlideshow.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoints","window","getComputedStyle","document","documentElement","getPropertyValue","replace","split","getBreakpoint","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isLessThanBreakpoint","breakpoint","inclusive","breakpoints","comparison","indexOf","isGreaterThanBreakpoint","isBreakpoint","some","onBreakpointChange","push","offBreakpointChange","index","splice","StaticSlideshow","section","el","settings","data","$window","carousel","querySelector","slides","container","isFullscreen","selectBlockOnLoad","continueAutoplay","stopAutoplay","autoplayTimeout","$firstSlideImage","flickity","flickityOptions","_initFlickity","bind","querySelectorAll","length","_initSlider","autoPlay","enable_autoplay","autoplay_duration","setGallerySize","pauseAutoPlayOnHover","accessibility","adaptiveHeight","cellAlign","cellSelector","contain","wrapAround","arrowShape","x0","x1","y1","x2","y2","x3","find","first","one","resize","_slideshowHeight","_positionDots","_changeArrowColors","Flickity","debounce","slideEls","removeLoadInAnimationsAutoplay","playLoadInAnimations","setTimeout","resetLoadInAnimations","Array","prototype","filter","call","i","pausePlayer","playPlayer","stopAutoplaying","stopPlayer","slideElements","slide","addEventListener","$slides","$slide","slideIndex","select","liveregion","createElement","setAttribute","appendChild","handleManualSlideChange","textContent","selectedIndex","pageDots","top","layout","content","selectedElement","height","offsetHeight","dotGutter","pageDotsHeight","dotBottomGutter","style","currentColor","dataset","dots","themecolor","slidecolor","fill","background","getBoundingClientRect","announcement","_destroyFlickity","off","destroy","block","hasClass"],"mappings":"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","file":"StaticSlideshow.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoints() {\n  return window\n    .getComputedStyle(document.documentElement, ':before')\n    .getPropertyValue('content')\n    .replace(/\"/g, '')\n    .split(',');\n}\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isLessThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison <= 0 : comparison < 0;\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison >= 0 : comparison > 0;\n}\n\nfunction isBreakpoint(...breakpoints) {\n  const currentBreakpoint = getBreakpoint();\n  return breakpoints.some(breakpoint => breakpoint === currentBreakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isLessThanBreakpoint,\n  isGreaterThanBreakpoint,\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport Flickity from 'flickity';\nimport layout from '../Layout';\nimport {\n  playLoadInAnimations,\n  resetLoadInAnimations,\n  removeLoadInAnimationsAutoplay,\n} from '../helpers/LoadInAnimations';\n\nexport default class StaticSlideshow {\n  constructor(section) {\n    this.el = section.el;\n    this.settings = section.data;\n    this.$window = $(window);\n\n    this.carousel = this.el.querySelector('.slideshow');\n    this.slides = '.slideshow-slide';\n    this.container = this.el.querySelector('.slideshow-height-fullscreen');\n    this.isFullscreen = !!this.container;\n    this.selectBlockOnLoad = true;\n    this.continueAutoplay = true;\n    this.stopAutoplay = false;\n    this.autoplayTimeout = 0;\n    this.$firstSlideImage = null;\n\n    this.flickity = null;\n    this.flickityOptions = null;\n\n    this._initFlickity = this._initFlickity.bind(this);\n\n    if (this.carousel && this.carousel.querySelectorAll(this.slides).length > 1) {\n      this._initSlider();\n    }\n  }\n\n  _initSlider() {\n    this.flickityOptions = {\n      autoPlay: this.settings.enable_autoplay ? this.settings.autoplay_duration * 1000 : false,\n      setGallerySize: !this.isFullscreen,\n      pauseAutoPlayOnHover: false,\n      accessibility: true,\n      adaptiveHeight: true,\n      cellAlign: 'left',\n      cellSelector: this.slides,\n      contain: true,\n      wrapAround: true,\n      arrowShape: {\n        x0: 10,\n        x1: 60,\n        y1: 50,\n        x2: 65,\n        y2: 45,\n        x3: 20,\n      },\n    };\n\n    this._initFlickity();\n\n    this.$firstSlideImage = $(this.slides, this.carousel).find('img[data-rimg]').first();\n\n    this.$firstSlideImage.one('rimg:load', () => {\n      if (this.flickity) {\n        this.flickity.resize();\n      }\n      this._slideshowHeight();\n      this._positionDots();\n      this._changeArrowColors();\n    });\n  }\n\n  _initFlickity() {\n    this.flickity = new Flickity(this.carousel, this.flickityOptions);\n    this.flickity.resize();\n    this._slideshowHeight();\n    this._positionDots();\n    this._changeArrowColors();\n\n    this.$window.on('resize.slideshow', debounce(() => {\n      this._slideshowHeight();\n      this._positionDots();\n      this._changeArrowColors();\n    }));\n\n    const slideEls = this.carousel.querySelectorAll(this.slides);\n\n    // We are manually playing load in animations when\n    // changing slides, so prevent automatic play.\n    removeLoadInAnimationsAutoplay(slideEls);\n    playLoadInAnimations([slideEls[0]]);\n\n    this.flickity.on('change', index => {\n      // This is a delay to fake waiting until the slide has fully changed.\n      // Waiting until 'settle' is a bit too long.\n      setTimeout(() => {\n        resetLoadInAnimations(Array.prototype.filter.call(slideEls, (el, i) => i !== index));\n      }, 100);\n      setTimeout(() => {\n        playLoadInAnimations([slideEls[index]]);\n      }, 150);\n    });\n\n    this.flickity.on('select', () => {\n      this._slideshowHeight();\n      this._positionDots();\n      this._changeArrowColors();\n\n      this.selectBlockOnLoad = false;\n\n      if (this.settings.enable_autoplay && !this.stopAutoplay) {\n        this.flickity.pausePlayer();\n\n        if (this.continueAutoplay) {\n          this.autoplayTimeout = 0;\n        } else {\n          this.autoplayTimeout = 10000;\n        }\n\n        this.continueAutoplay = true;\n\n        setTimeout(() => {\n          this.flickity.playPlayer();\n        }, this.autoplayTimeout);\n      }\n    });\n\n    this.flickity.on('dragStart', () => {\n      this.continueAutoplay = false;\n    });\n\n    this.stopAutoplaying = () => {\n      this.stopAutoplay = true;\n      this.flickity.stopPlayer();\n    };\n\n    // For users that need to use a keyboard for navigation, we want to pause the player\n    // when they are focused on it, and we also want to slide to the slide their focus is on.\n    this.slideElements = this.el.querySelectorAll(this.slides);\n    this.slideElements.forEach(slide => {\n      slide.addEventListener('focusin', () => {\n        this.stopAutoplaying();\n        const $slides = $(this.slides);\n        const $slide = $(slide);\n        const slideIndex = $slides.index($slide);\n        this.flickity.select(slideIndex, false, true);\n      });\n    });\n\n    // For screen readers, we will add a live region that is hidden to users,\n    // but is read when clicking the nagivation buttons\n    this.liveregion = document.createElement('div');\n    this.liveregion.setAttribute('aria-live', 'polite');\n    this.liveregion.setAttribute('class', 'live-region visually-hidden');\n    this.el.appendChild(this.liveregion);\n\n    this.handleManualSlideChange = () => {\n      this.stopAutoplaying();\n      this.liveregion.textContent = `Slide autoplay stopped.\n        On slide ${this.flickity.selectedIndex + 1} of ${this.flickity.slides.length}`;\n    };\n\n    // stop autoplaying if a user has interacted with the slideshow next/previous buttons\n    this.el.querySelector('.flickity-prev-next-button.next')\n      .addEventListener('click', this.handleManualSlideChange);\n    this.el.querySelector('.flickity-prev-next-button.previous')\n      .addEventListener('click', this.handleManualSlideChange);\n  }\n\n  _positionDots() {\n    const pageDots = this.el.querySelector('.flickity-page-dots');\n    let top = 'auto';\n\n    if (layout.isLessThanBreakpoint('S') && !this.isFullscreen) {\n      const content = this.flickity.selectedElement.querySelector('.slideshow-slide-content');\n      const height = this.flickity.selectedElement.querySelector('.slideshow-background').offsetHeight;\n      const dotGutter = 5;\n\n      if (content) {\n        top = `${height + dotGutter}px`;\n      } else {\n        const pageDotsHeight = pageDots.offsetHeight;\n        const dotBottomGutter = 20;\n\n        // If no content, and mobile, offset by height of dots, and the bottom gutter\n        top = `${height - (pageDotsHeight + dotBottomGutter)}px`;\n      }\n    }\n\n    pageDots.style.top = top;\n  }\n\n  _changeArrowColors() {\n    let currentColor = this.flickity.selectedElement.querySelector('.slideshow-background').dataset;\n    const dots = this.el.querySelectorAll('.flickity-page-dots .dot');\n\n    if (layout.isLessThanBreakpoint('S') && !this.isFullscreen) {\n      currentColor = currentColor.themecolor;\n    } else {\n      currentColor = currentColor.slidecolor;\n    }\n\n    this.el.querySelector('.flickity-prev-next-button.previous svg').style.fill = currentColor;\n    this.el.querySelector('.flickity-prev-next-button.next svg').style.fill = currentColor;\n\n    for (let i = 0; i < dots.length; i++) {\n      dots[i].style.background = currentColor;\n    }\n  }\n\n  _slideshowHeight() {\n    if (this.isFullscreen) {\n      let offsetHeight = document.querySelector('[data-site-header]').getBoundingClientRect().height;\n      const announcement = document.querySelector('.site-announcement');\n\n      if (announcement) {\n        offsetHeight += announcement.getBoundingClientRect().height;\n      }\n\n      this.el.querySelector('.flickity-viewport').style.height = `calc(100vh - ${offsetHeight}px)`;\n      this.container.style.height = `calc(100vh - ${offsetHeight}px)`;\n    }\n  }\n\n  onSectionUnload() {\n    this._destroyFlickity();\n    this.$window.off('.slideshow');\n    this.$firstSlideImage.off('rimg:load');\n  }\n\n  _destroyFlickity() {\n    if (!this.flickity) {\n      return;\n    }\n\n    this.flickity.destroy();\n  }\n\n  onSectionBlockSelect(block) {\n    setTimeout(() => {\n      this.flickity.resize();\n    }, 100);\n\n    const $slides = $(this.slides);\n    const $slide = $(block.el);\n    const slideIndex = $slides.index($slide);\n\n    if (this.settings.enable_autoplay) {\n      this.stopAutoplay = true;\n      this.flickity.pausePlayer();\n    }\n\n    if (!$slide.hasClass('is-selected') && !this.selectBlockOnLoad) {\n      this.flickity.select(slideIndex, false, false);\n    } else if (this.selectBlockOnLoad) {\n      this.flickity.select(slideIndex, false, true);\n    }\n  }\n\n  onSectionBlockDeselect() {\n    if (this.settings.enable_autoplay) {\n      this.stopAutoplay = false;\n      this.flickity.playPlayer();\n    }\n  }\n}\n"],"sourceRoot":""}