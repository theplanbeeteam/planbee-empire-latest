{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/helpers/Quantity.js","webpack:///./source/scripts/Forms.js","webpack:///./source/scripts/helpers/ScrollLock.js","webpack:///./source/scripts/components/search/SearchForm.js","webpack:///./source/scripts/helpers/site-main-dimmer.js","webpack:///./source/scripts/Search.js","webpack:///./source/scripts/components/search/LiveSearchTemplates.js","webpack:///./source/scripts/components/search/LiveSearch.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoints","window","getComputedStyle","document","documentElement","getPropertyValue","replace","split","getBreakpoint","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isLessThanBreakpoint","breakpoint","inclusive","breakpoints","comparison","indexOf","isGreaterThanBreakpoint","isBreakpoint","some","onBreakpointChange","push","offBreakpointChange","index","splice","Quantity","el","$el","$inputParent","find","$input","$selectParent","$select","_watchSelect","bind","_watchInput","off","baseValue","parseInt","currentTarget","value","isNaN","_validateValue","val","trigger","removeClass","addClass","focus","removeAttr","select","attr","Forms","selector","filledClass","fieldSelector","quantityItems","$quantityWrapper","_toggleFilled","_checkFilled","length","each","i","quantityItem","unload","hasClass","target","$target","isFilled","is","toggleClass","e","body","html","querySelector","_blockScroll","closest","preventDefault","stopPropagation","ScrollLock","modal","classList","add","style","top","pageYOffset","addEventListener","passive","querySelectorAll","remove","removeEventListener","contains","sanitizeCategory","SearchForm","$container","options","container","form","filter","isLiveSearch","liveSearch","setCategory","events","EventHandler","register","submitHandler","filterLabel","newValue","innerHTML","dataset","filterAll","hideFilterIfMobile","Layout","unregisterAll","cloneNode","termsInput","position","left","bottom","visibility","terms","join","trim","appendChild","submit","animation","transition","state","openers","Set","disableAnimations","dim","requestor","has","animateTo","clear","delete","size","force","Search","searchType","type","view","inProgress","xhr","XMLHttpRequest","ActiveXObject","_xhrLoad","_xhrError","_xhrAbort","_bindEvents","response","readyState","status","JSON","parse","responseText","emit","message","error","term","abort","url","Theme","routes","search_url","params","q","searchParams","Object","keys","map","key","encodeURIComponent","open","setRequestHeader","send","EventEmitter","ContentItem","contentItem","title","ContentResultsHeader","context","content_results","ContentResults","props","content","$title","contentItems","ContentNoResults","no_results","ProductPriceCompareAt","price","compare_at_price","ProductPriceMain","ProductPrice","onSale","consistentSaved","$compareAt","$price","ProductContent","product","on_sale","consistent_saved","swatchCount","swatch_count","ProductImage","image","ProductItem","enableImages","$image","$content","ProductResults","products","productItems","ProductNoResults","category","no_results_products","title_in_category","all_products_collection_url","view_all_products","ResultsFooter","view_all_results","MAX_RESULTS","LiveSearch","$els","settings","$header","closeEvents","enableContent","enable_content","enable_images","mobileSearchBar","show_mobile_search_bar","$form","$button","$takeOverButton","$filter","$flyDown","$searchResults","$searchPlaceholder","$quickLinks","animationFlyDown","get","animationSearchResults","animationTakeover","animationQuickLinks","staticSearch","search","_search","_documentFocus","_searchCancelled","_searchComplete","_searchError","_closeEsc","_closeFlyDown","_closeTakeOver","debounce","_onSearchFocus","hasTerms","layout","_openTakeOver","_openFlyDown","use_dimmer","SiteMainDimmer","unlock","invalidKeyStrokes","_toggleButton","execute","console","warn","log","sanitizedTerms","slice","results","noResults","footer","$productResults","$contentResults","Shopify","formatMoney","money_format","append","disable","placeholder","hasNoResults","hasResults","children","hasQuickLinks","_shouldOpenFlyDown","resize","scrollHeight","setProperty","_updateFlyDown","data","$window","$document","onStart","then","retainFocus","lock","getBoundingClientRect","right","width","innerWidth","parentNode","height","hold","$closest"],"mappings":"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","file":"DynamicSearch-StaticHeader.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoints() {\n  return window\n    .getComputedStyle(document.documentElement, ':before')\n    .getPropertyValue('content')\n    .replace(/\"/g, '')\n    .split(',');\n}\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isLessThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison <= 0 : comparison < 0;\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison >= 0 : comparison > 0;\n}\n\nfunction isBreakpoint(...breakpoints) {\n  const currentBreakpoint = getBreakpoint();\n  return breakpoints.some(breakpoint => breakpoint === currentBreakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isLessThanBreakpoint,\n  isGreaterThanBreakpoint,\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","export default class Quantity {\n  constructor(el) {\n    this.$el = $(el);\n    this.$inputParent = this.$el.find('.form-field--qty-input');\n    this.$input = this.$el.find('[data-quantity-input]');\n    this.$selectParent = this.$el.find('.form-field--qty-select');\n    this.$select = this.$el.find('[data-quantity-select]');\n\n    this._watchSelect = this._watchSelect.bind(this);\n    this._watchInput = this._watchInput.bind(this);\n\n    this.$select.on('change.quantity', this._watchSelect);\n    this.$input.on('change.quantity', this._watchInput);\n  }\n\n  unload() {\n    this.$el.off('.quantity');\n  }\n\n  _validateValue(event) {\n    const baseValue = parseInt(event.currentTarget.value, 10);\n\n    return isNaN(baseValue) ? 1 : baseValue;\n  }\n\n  _watchSelect(event) {\n    const value = this._validateValue(event);\n\n    // Update input to match select\n    this.$input.val(value).trigger('change');\n\n    // Switch to quantity input when 10 or more\n    if (value >= 10) {\n      this.$inputParent\n        .removeClass('hidden')\n        .addClass('visible');\n\n      this.$input\n        .focus()\n        .removeAttr('tabindex')\n        .select();\n\n      this.$selectParent\n        .removeClass('visible')\n        .addClass('hidden');\n\n      this.$select.attr('tabindex', '-1');\n    }\n  }\n\n  _watchInput(event) {\n    this.$input.val(this._validateValue(event));\n  }\n}\n","import $ from 'jquery';\nimport Quantity from './helpers/Quantity';\n\nexport default class Forms {\n  constructor(el, selector = '.form-field-input') {\n    this.$el = $(el);\n    this.filledClass = 'form-field-filled';\n    this.fieldSelector = selector;\n\n    this.quantityItems = [];\n    this.$quantityWrapper = this.$el.find('[data-quantity-wrapper]');\n\n    this._toggleFilled = this._toggleFilled.bind(this);\n    this.$el.on('focus.forms', this.fieldSelector, this._toggleFilled);\n    this.$el.on('blur.forms', this.fieldSelector, this._toggleFilled);\n\n    this._checkFilled();\n\n    if (this.$quantityWrapper.length) {\n      this.$quantityWrapper.each((i, el) => {\n        this.quantityItems.push(\n          new Quantity(el),\n        );\n      });\n    }\n  }\n\n  unload() {\n    this.$el.off('.forms');\n\n    this.quantityItems.forEach(quantityItem => {\n      quantityItem.unload();\n    });\n  }\n\n  _checkFilled() {\n    this.$el.find(this.fieldSelector).each((i, el) => {\n      if ($(el).hasClass(this.filledClass)) return;\n\n      this._toggleFilled(null, el);\n    });\n  }\n\n  _toggleFilled(event = null, el = false) {\n    const target = event ? event.currentTarget : el;\n    const $target = $(target);\n    const { value } = target;\n\n    let isFilled = value.length > 0;\n\n    try {\n      isFilled = isFilled || $target.is(':-webkit-autofill');\n      $target.toggleClass(this.filledClass, isFilled);\n    } catch (e) {\n      $target.toggleClass(this.filledClass, isFilled);\n    }\n  }\n}\n","const { body } = document;\nconst html = document.querySelector('html');\n\nfunction _blockScroll(event) {\n  // Only block events that occur outside the modal\n  if (event.target.closest('.allow-scroll-while-locked')) return;\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nexport default class ScrollLock {\n  /**\n   * Prevents all scrolling of the document\n   * @param {HTMLElement} modal Element within which scrolling is allowed\n   */\n  static lock(modal) {\n    if (modal) {\n      modal.classList.add('allow-scroll-while-locked');\n    }\n    html.classList.add('scroll-locked');\n    body.style.top = -1 * window.pageYOffset;\n    body.addEventListener('scroll', _blockScroll, false);\n    body.addEventListener('touchmove', _blockScroll, { passive: false });\n  }\n\n  /**\n   * Removes scroll lock\n   */\n  static unlock() {\n    document\n      .querySelectorAll('.allow-scroll-while-locked')\n      .forEach(modal => modal.classList.remove('allow-scroll-while-locked'));\n    html.classList.remove('scroll-locked');\n    body.style.top = '';\n    body.removeEventListener('scroll', _blockScroll, false);\n    body.removeEventListener('touchmove', _blockScroll, { passive: false });\n  }\n\n  static get isLocked() {\n    return html.classList.contains('scroll-locked');\n  }\n}\n","import EventHandler from '@pixelunion/events';\nimport Layout from '../../Layout';\n\nfunction sanitizeCategory(value) {\n  return value.replace(/(tag|product_type):(searchfilter_)?/, '');\n}\n\nexport default class SearchForm {\n  constructor($container, options = {}) {\n    this.container = $container[0];\n    this.form = this.container.querySelector('[data-live-search-form]');\n    this.filter = this.container.querySelector('[data-live-search-filter]');\n\n    this.isLiveSearch = options.liveSearch ? options.liveSearch : false;\n    this.setCategory = options.setCategory || (() => { /* do nothing */ });\n\n    this.events = new EventHandler();\n\n    this.events.register(this.form, 'submit', e => this.submitHandler(e));\n\n    if (this.filter) {\n      this.filterLabel = this.container.querySelector('[data-live-search-filter-label]');\n\n      // page-search-form uses a hidden input to persist the filter, in which case\n      // this.filter exists, but this.filterLabel does not.\n      if (this.filterLabel) {\n        this.setCategory(this.filterLabel.value);\n\n        this.events.register(this.filter, 'change', e => {\n          const { value } = e.target;\n          if (value) {\n            const newValue = sanitizeCategory(value);\n            this.filterLabel.innerHTML = newValue;\n            this.setCategory(newValue);\n            this.form.classList.add('live-search-filter-active');\n          } else {\n            this.filterLabel.innerHTML = e.target.dataset.filterAll;\n            this.form.classList.remove('live-search-filter-active');\n            this.setCategory('');\n          }\n        });\n      }\n\n      const hideFilterIfMobile = () => {\n        if (Layout.isLessThanBreakpoint('S')) {\n          this.filter.value = '';\n          this.form.classList.remove('live-search-filter-active');\n          if (this.filterLabel) {\n            this.filterLabel.innerHTML = this.filter.dataset.filterAll;\n          }\n        }\n      };\n\n      hideFilterIfMobile();\n      Layout.onBreakpointChange(() => hideFilterIfMobile());\n    }\n  }\n\n  unload() {\n    this.events.unregisterAll();\n  }\n\n  submitHandler(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget.cloneNode(true);\n    const termsInput = form.querySelector('[name=q]');\n\n    form.style.position = 'absolute';\n    form.style.left = '-1000px';\n    form.style.bottom = '-1000px';\n    form.style.visibility = 'hidden';\n\n    let terms = termsInput.value;\n\n    if (this.isLiveSearch && !terms) {\n      return;\n    }\n\n    // Adds `*` after each word in search terms, doesn't add to last word\n    if (terms.indexOf(' ') > 0) {\n      terms = terms.split(' ').join('* ').trim();\n    }\n\n    // Adds `*` at the end of the search terms\n    terms = `${terms}*`;\n\n    // Add field filter\n    terms = this.filter && this.filter.value ? `${terms} ${this.filter.value}` : terms;\n\n    // Update value\n    termsInput.value = terms;\n\n    // Forms must be in the browser context in order to submit\n    window.document.body.appendChild(form);\n    form.submit();\n  }\n}\n","import { transition } from '@pixelunion/animations';\n\nconst el = document.querySelector('[data-site-main-dimmer]');\nconst animation = transition({ el, state: 'closed' });\nconst openers = new Set();\n\nconst disableAnimations = 'reduceAnimations' in document.body.dataset;\n\nexport function dim(requestor) {\n  if (disableAnimations) return;\n  if (openers.has(requestor)) return;\n  openers.add(requestor);\n  animation.animateTo('open');\n}\n\nexport function clear(requestor) {\n  openers.delete(requestor);\n  if (openers.size) return;\n  animation.animateTo('closed', { force: disableAnimations });\n}\n","import EventEmitter from 'eventemitter2';\n\n/**\n * Search API Class\n */\nexport default class Search extends EventEmitter {\n  /**\n   * Create a new Search instance, and override defaults\n   *\n   * @param options\n   * @property {string} options.type - Search restriction. Use 'article', 'page', 'product', or ''\n   * @property {string} options.view - Search template suffix. Specify different templates as needed\n   */\n  constructor(options = {}) {\n    super();\n\n    this.searchType = options.type || '';\n    this.view = options.view || 'json';\n\n    this.inProgress = false;\n\n    this.xhr = window.XMLHttpRequest\n      ? new XMLHttpRequest()\n      : new ActiveXObject('Microsoft.XMLHTTP');\n\n    this._xhrLoad = this._xhrLoad.bind(this);\n    this._xhrError = this._xhrError.bind(this);\n    this._xhrAbort = this._xhrAbort.bind(this);\n\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this.xhr.addEventListener('load', this._xhrLoad);\n    this.xhr.addEventListener('error', this._xhrError);\n    this.xhr.addEventListener('abort', this._xhrAbort);\n  }\n\n  /**\n   * XHR was successfull\n   *\n   * @description XHR completed successfully\n   * @param {object} event\n   * @fires Search#complete\n   * @private\n   */\n  _xhrLoad(event) {\n    let response = {};\n    const {\n      readyState,\n      status,\n    } = event.target;\n\n    try {\n      if (readyState > 3 && status === 200) {\n        response = JSON.parse(event.target.responseText);\n        this.emit('complete', response);\n      } else {\n        const message = `Invalid readyState: ${readyState}, or status: ${status}.`;\n        this._xhrError(event, message);\n        return;\n      }\n    } catch (error) {\n      this._xhrError(event, 'Invalid JSON', error);\n      return;\n    }\n\n    this.inProgress = false;\n  }\n\n  /**\n   * XHR contains an error\n   *\n   * @description XHR has contained an error, and was unable to complete\n   * @param {object} event\n   * @param {object|string} message\n   * @param {object} error\n   * @fires Search#error\n   * @private\n   */\n  _xhrError(event, message = null, error = null) {\n    this.inProgress = false;\n    this.emit('error', { event, message, error });\n  }\n\n  /**\n   * XHR has been aborted\n   *\n   * @description This event only fires if there is an active XHR request that has been terminated\n   * @fires Search#aborted\n   * @private\n   */\n  _xhrAbort() {\n    this.emit('aborted');\n  }\n\n  /**\n   * Perform the search\n   *\n   * @param {string} term - Search term(s)\n   * @fires Search#initialized\n   * @fires Search#cancelled\n   */\n  execute(term) {\n    this.emit('initialized', { term });\n\n    if (this.inProgress) {\n      this.emit('cancelled');\n      this.xhr.abort();\n    }\n\n    this.inProgress = true;\n\n    const url = window.Theme.routes.search_url;\n    const params = {\n      q: term,\n      type: this.searchType,\n      view: this.view,\n    };\n\n    const searchParams = Object.keys(params).map(key => {\n      const value = params[key];\n      return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n    }).join('&');\n\n    this.xhr.open('get', `${url}?${searchParams}`);\n    this.xhr.setRequestHeader('Accept', 'application/json');\n    this.xhr.send();\n  }\n}\n\n/**\n * @description XHR initialized\n * @event Search#initialized\n * @type {object}\n */\n\n/**\n * @description XHR completed\n * @event Search#complete\n * @property {object} response - JSON response from end point\n */\n\n/**\n * @description XHR had an error\n * @event Search#error\n */\n\n/**\n * @description XHR cancelled due to user interaction. If an XHR is being\n *        processed, this does not terminate it\n * @event Search#cancelled\n */\n\n/**\n * @description XHR aborted due to user interaction, terminating previously executed XHR.\n * @event Search#aborted\n */\n","/**\n * Shows a list item component when result is an article, or a page\n *\n * @param contentItem\n * @returns {string}\n * @constructor\n */\nfunction ContentItem(contentItem) {\n  return `\n  <li class=\"search-flydown--content-item\">\n    <a href=\"${contentItem.url}\">${contentItem.title}</a>\n  </li>\n  `;\n}\n\n/**\n * Shows a header for the article and page results\n *\n * @param context\n * @returns {string}\n * @constructor\n */\nfunction ContentResultsHeader(context) {\n  return `\n    <h5 class=\"search-flydown--content-title\">\n      ${context.content_results.title}\n    </h5>\n  `;\n}\n\n/**\n * Shows a list of results from articles, or pages\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\nfunction ContentResults(props) {\n  const { content, context } = props;\n  const $title = ContentResultsHeader(context);\n  const contentItems = content.map(contentItem => ContentItem(contentItem));\n\n  return $(`\n    <div class=\"search-flydown--content-items\">\n      ${$title}\n\n      <ul class=\"search-flydown--content-items-list\">\n        ${contentItems.join('')}\n      </ul>\n    </div>\n  `);\n}\n\n/**\n * Shows a message when there are no article or page results\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\nfunction ContentNoResults(props) {\n  const { context } = props;\n  const $title = ContentResultsHeader(context);\n\n  return $(`\n    <div class=\"search-flydown--content-items\">\n      ${$title}\n\n      <p class=\"search-flydown--content-items-none\">\n        ${context.content_results.no_results}\n      </p>\n    </div>\n  `);\n}\n\n/**\n * Shows the product's compare_at_price, with connection for CurrencyConverter\n *\n * @param price\n * @returns {string}\n * @constructor\n */\nfunction ProductPriceCompareAt(price) {\n  return `\n  <span class=\"search-flydown--product-price--compare-at\">\n    <span class=\"money\">${price.compare_at_price}</span>\n  </span>\n  `;\n}\n\n/**\n * Shows the product's price, with connection for CurrencyConverter\n *\n * @param price\n * @returns {string}\n * @constructor\n */\nfunction ProductPriceMain(price) {\n  return `\n  <span class=\"search-flydown--product-price--main\">\n    <span class=\"money\">${price.price}</span>\n  </span>\n  `;\n}\n\n/**\n * Shows the product's prices\n *\n * @param props\n * @returns {string}\n * @constructor\n */\nfunction ProductPrice(props) {\n  const { price, onSale, consistentSaved } = props;\n  const $compareAt = onSale && consistentSaved ? ProductPriceCompareAt(price) : '';\n  const $price = ProductPriceMain(price);\n\n  return `\n    <span class=\"search-flydown--product-price ${onSale ? 'search-flydown--product-price-has-sale' : ''}\">\n      ${$price}\n      ${$compareAt}\n    </span>\n  `;\n}\n\n/**\n * Shows a product's main content\n *\n * @param product\n * @returns {string}\n * @constructor\n */\nfunction ProductContent(product) {\n  const $price = ProductPrice({\n    price: product.price,\n    onSale: product.on_sale,\n    consistentSaved: product.consistent_saved,\n  });\n\n  const swatchCount = product.swatch_count\n    ? `<span class=\"search-flydown--product-swatch-count\">${product.swatch_count}</span>`\n    : '';\n\n  return `\n    <div class=\"search-flydown--product-text\">\n      <span class=\"search-flydown--product-title\">\n        ${product.title}\n      </span>\n      ${$price}\n      ${swatchCount}\n    </div>\n  `;\n}\n\n/**\n * Shows a product's image\n *\n * @param image\n * @returns {string}\n * @constructor\n */\nfunction ProductImage(image) {\n  return `\n    <div class=\"search-flydown--product-image\">\n      ${image}\n    </div>\n  `;\n}\n\n/**\n * Shows a product list item component when result is a product\n *\n * @param product\n * @param enableImages\n * @returns {string}\n * @constructor\n */\nfunction ProductItem(product, enableImages) {\n  const $image = enableImages ? ProductImage(product.image) : '';\n  const $content = ProductContent(product);\n\n  return `\n    <a class=\"search-flydown--product search-flydown--product\" href=\"${product.url}\">\n      ${$image}\n      ${$content}\n    </a>\n  `;\n}\n\n/**\n * Shows a list of product results\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\nfunction ProductResults(props) {\n  const { products, enableImages } = props;\n  const productItems = products.map(product => ProductItem(product, enableImages));\n\n  return $(`\n    <div class=\"search-flydown--product-items\">\n      ${productItems.join('')}\n    </div>\n  `);\n}\n\n/**\n * Show a message when no product results are found\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\nfunction ProductNoResults(props) {\n  const { context, terms, category } = props;\n\n  let title = context.no_results_products.title.replace('*terms*', terms);\n  if (category) {\n    title = context.no_results_products.title_in_category\n      .replace('*terms*', terms)\n      .replace('*category*', category);\n  }\n\n  return $(`\n    <div class=\"search-flydown--product-items--none\" data-live-search-no-products>\n      <h5>\n        ${title}\n      </h5>\n      <p>\n        ${context.no_results_products.message}\n      </p>\n      <p>\n        <a class=\"search-flydown--continue\" href=\"${window.Theme.routes.all_products_collection_url}\">\n          ${context.view_all_products}\n        </a>\n      </p>\n    </div>\n  `);\n}\n\n/**\n * Show's the Results footer, directing customers to all products\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\nfunction ResultsFooter(props) {\n  const { context, terms, type } = props;\n\n  return $(`\n    <div class=\"search-flydown--footer\">\n      <a class=\"search-flydown--continue\" href=\"${window.Theme.routes.search_url}?q=${terms}&type=${type}\">\n        ${context.view_all_results}\n      </a>\n    </div>\n  `);\n}\n\nexport {\n  ContentResults,\n  ContentNoResults,\n  ProductResults,\n  ProductNoResults,\n  ResultsFooter,\n};\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport { transition } from '@pixelunion/animations';\n\nimport * as SiteMainDimmer from '../../helpers/site-main-dimmer';\nimport ScrollLock from '../../helpers/ScrollLock';\nimport Search from '../../Search';\nimport layout from '../../Layout';\nimport SearchForm from './SearchForm';\n\nimport {\n  ContentResults,\n  ContentNoResults,\n  ProductResults,\n  ProductNoResults,\n  ResultsFooter,\n} from './LiveSearchTemplates';\n\nconst MAX_RESULTS = 7;\n\nexport default class LiveSearch {\n  constructor($els, settings) {\n    this.$el = $els.$el;\n    this.$header = $els.$header;\n\n    this.closeEvents = [];\n\n    this.settings = settings;\n    this.enableContent = this.settings.enable_content;\n    this.enableImages = this.settings.enable_images;\n    this.mobileSearchBar = this.settings.show_mobile_search_bar;\n    this.searchType = this.enableContent ? 'article,page,product' : 'product';\n    this.category = '';\n\n    const $form = this.$el.find('[data-live-search-form]');\n    this.$input = $form.find('[data-live-search-input]');\n    this.$button = $form.find('[data-live-search-submit]');\n    this.$takeOverButton = $form.find('[data-live-search-takeover-cancel]');\n    this.$filter = this.$el.find('[data-live-search-filter]');\n\n    this.$flyDown = this.$el.find('[data-live-search-flydown]');\n    this.$searchResults = this.$flyDown.find('[data-live-search-results]');\n    this.$searchPlaceholder = this.$flyDown.find('[data-live-search-placeholder]');\n    this.$quickLinks = this.$flyDown.find('[data-live-search-quick-links]');\n\n    this.disableAnimations = 'reduceAnimations' in document.body.dataset;\n    this.animationFlyDown = transition({\n      el: this.$flyDown.get(0),\n      state: 'closed',\n    });\n    this.animationSearchResults = transition({\n      el: this.$searchResults.get(0),\n      state: 'closed',\n    });\n    this.animationTakeover = transition({\n      el: this.$el[0],\n      state: 'closed',\n    });\n    if (this.$quickLinks.length) {\n      this.animationQuickLinks = transition({\n        el: this.$quickLinks.get(0),\n        state: 'closed',\n      });\n    }\n\n    this.staticSearch = new SearchForm(\n      this.$el,\n      {\n        liveSearch: true,\n        setCategory: category => { this.category = category; },\n      },\n    );\n\n    this.search = new Search({\n      view: 'header',\n      type: this.searchType,\n    });\n\n    this._search = this._search.bind(this);\n    this._documentFocus = this._documentFocus.bind(this);\n\n    this._searchCancelled = this._searchCancelled.bind(this);\n    this._searchComplete = this._searchComplete.bind(this);\n    this._searchError = this._searchError.bind(this);\n\n    this.search.on('cancelled', this._searchCancelled);\n    this.search.on('complete', this._searchComplete);\n    this.search.on('error', this._searchError);\n\n    this._closeEsc = e => {\n      if (e.key === 'Escape') {\n        e.stopPropagation();\n        this.$input.focus();\n        this._closeFlyDown(true);\n        this._closeTakeOver();\n      }\n    };\n\n    this.events = [\n      this.$input.on('keyup.live-search', debounce(this._search, 250)),\n      this.$input.on('focus.live-search', event => {\n        event.stopPropagation();\n        this._onSearchFocus();\n      }),\n      this.$takeOverButton.on('click.live-search', event => {\n        event.preventDefault();\n        this._closeFlyDown(true);\n        this._closeTakeOver();\n      }),\n      this.$filter.on('change.live-search', event => {\n        const terms = this.$input.val();\n        const hasTerms = terms.length > 0;\n\n        if (!hasTerms) return;\n\n        this._search(event);\n      }),\n    ];\n  }\n\n  open() {\n    // If is XS, pop the search out into a Takeover screen\n    if (layout.isLessThanBreakpoint('S')) {\n      this._openTakeOver();\n    }\n    this._openFlyDown();\n\n    this.$input.focus();\n  }\n\n  unload() {\n    this.events.forEach($el => $el.off('.live-search'));\n\n    this.search.off('cancelled', this._searchCancelled);\n    this.search.off('complete', this._searchComplete);\n    this.search.off('error', this._searchError);\n\n    if (this.settings.use_dimmer) {\n      SiteMainDimmer.clear(this);\n    }\n    this.staticSearch.unload();\n\n    ScrollLock.unlock();\n  }\n\n  _onSearchFocus() {\n    this.$el.addClass('live-search--focused');\n\n    // If is XS, pop the search out into a Takeover screen\n    if (layout.isLessThanBreakpoint('S')) {\n      this._openTakeOver();\n    }\n\n    this._openFlyDown();\n  }\n\n  _search(event) {\n    // Ignore non character key strokes\n    const invalidKeyStrokes = [\n      'Alt',\n      'ArrowRight',\n      'ArrowLeft',\n      'ArrowUp',\n      'ArrowDown',\n      'Capslock',\n      'Control',\n      'Escape',\n      'Meta',\n      'Shift',\n      'Tab',\n      'Enter',\n    ];\n\n    if (event.key && invalidKeyStrokes.indexOf(event.key) !== -1) {\n      return;\n    }\n\n    let terms = this.$input.val();\n    const hasTerms = terms.length > 0;\n\n    // If is XS, pop the search out into a Takeover screen\n    if (layout.isLessThanBreakpoint('S')) {\n      this._openTakeOver();\n    }\n\n    // If terms has length, this will be true\n    this._toggleButton(hasTerms);\n\n    if (hasTerms) {\n      // Clear previous results\n      this.$searchResults.html('');\n\n      this._openFlyDown(true);\n\n      // Adds `*` after each word in search terms, doesn't add to last word\n      if (terms.indexOf(' ') > 0) {\n        terms = terms.split(' ').join('* ').trim();\n      }\n\n      // Adds `*` at the end of the search terms\n      terms = `${terms}*`;\n\n      const filter = this.$filter[0];\n\n      // Add field filter\n      terms = filter && filter.value ? `${terms} ${filter.value}` : terms;\n\n      this.search.execute(terms);\n    } else if (this.$quickLinks.length) {\n      this._openFlyDown();\n    } else {\n      this._closeFlyDown(true);\n    }\n  }\n\n  _searchError(response) {\n    console.warn('Search had error');\n    console.log(response.message, response.error, response.event);\n    this._toggleButton(false);\n  }\n\n  /**\n   * Search has been cancelled due to new search being performed\n   *\n   * @private\n   */\n  _searchCancelled() {\n    // Searches are canceled on user interaction, UI should remain unchanged\n  }\n\n  _searchComplete(response) {\n    let {\n      content,\n      products,\n    } = response;\n\n    const {\n      terms,\n      sanitizedTerms,\n    } = response;\n\n    content = content.slice(0, MAX_RESULTS);\n    products = products.slice(0, MAX_RESULTS);\n\n    const {\n      enable_images: enableImages,\n      context,\n    } = this.settings;\n    const settings = {\n      products: {\n        results: {\n          products,\n          enableImages,\n        },\n        noResults: {\n          context,\n          terms: sanitizedTerms,\n          category: this.category,\n        },\n      },\n      content: {\n        results: {\n          context,\n          content,\n        },\n        noResults: {\n          context,\n        },\n      },\n      footer: {\n        context,\n        terms,\n        type: this.searchType,\n      },\n    };\n\n    const $productResults = products.length\n      ? ProductResults(settings.products.results)\n      : ProductNoResults(settings.products.noResults);\n\n    const $contentResults = content.length\n      ? ContentResults(settings.content.results)\n      : ContentNoResults(settings.content.noResults);\n\n    $productResults.find('.money').each((i, el) => {\n      el.innerHTML = Shopify.formatMoney( // eslint-disable-line no-param-reassign\n        el.innerHTML,\n        this.settings.money_format,\n      );\n    });\n\n    // Show results\n    this.$searchResults\n      .html($productResults);\n\n    if (this.enableContent) {\n      this.$searchResults\n        .append($contentResults);\n    }\n\n    this.$searchResults\n      .append(ResultsFooter(settings.footer));\n\n    this._openFlyDown();\n    this._toggleButton(false);\n  }\n\n  /**\n   * Toggles search button while processing\n   *\n   * @param disable\n   * @private\n   */\n  _toggleButton(disable) {\n    if (disable) {\n      this.$button\n        .addClass('search-icon--processing')\n        .attr('disabled');\n    } else {\n      this.$button\n        .removeClass('search-icon--processing')\n        .removeAttr('disabled');\n    }\n  }\n\n  _shouldOpenFlyDown(placeholder = false) {\n    if (placeholder) return true;\n\n    const hasTerms = this.$input.val().length > 0;\n    const hasNoResults = this.$searchResults.find('[data-live-search-no-products]').length > 0;\n    const hasResults = this.$searchResults.children().length > 0;\n    const hasQuickLinks = this.$quickLinks.length;\n\n    return (hasTerms && (hasResults || hasNoResults)) || (!hasTerms && hasQuickLinks);\n  }\n\n  _openFlyDown(placeholder = false) {\n    if (!this._shouldOpenFlyDown(placeholder)) return;\n\n    const resize = ({ el }) => {\n      // When this function is called, element is `display: block; height: 0;`\n      // but the wrapper's scrollHeight is the height we want to transition to\n      const container = el.querySelector(':scope > .visible');\n      const scrollHeight = container ? container.scrollHeight : 0;\n      el.style.setProperty('--open-height', `${scrollHeight}px`);\n    };\n\n    this._updateFlyDown(placeholder);\n\n    if (!this.$flyDown.data('is-open')) {\n      const $window = $(window);\n      const $document = $(document);\n\n      // Only listen for events outside of the search flydown when its open\n      this.closeEvents = [\n        $window.on('keydown.live-search', this._closeEsc),\n        $document.on('focusin.live-search', this._documentFocus),\n        $document.on('touchstart.live-search', this._documentFocus),\n        $document.on('click.live-search', this._documentFocus),\n      ];\n\n      if (this.settings.use_dimmer) {\n        SiteMainDimmer.dim(this);\n      }\n      this.$flyDown.data('is-open', true);\n      this.animationFlyDown.animateTo('open', { force: this.disableAnimations, onStart: resize })\n        .then(() => this.$el.addClass('live-search--active'));\n    } else {\n      resize({ el: this.$flyDown.get(0) });\n    }\n  }\n\n  _updateFlyDown(placeholder = false) {\n    const hasTerms = this.$input.val().length > 0;\n    const hasNoResults = this.$searchResults.find('[data-live-search-no-products]').length > 0;\n    const hasResults = this.$searchResults.children().length > 0;\n    const hasQuickLinks = this.$quickLinks.length;\n\n    if (placeholder) {\n      this.$searchResults.removeClass('visible');\n      this.$quickLinks.removeClass('visible');\n      this.$searchPlaceholder.addClass('visible');\n      if (this.animationQuickLinks) {\n        this.animationQuickLinks.animateTo('hidden', { force: this.disableAnimations });\n      }\n      this.animationSearchResults.animateTo('hidden', { force: this.disableAnimations });\n    } else if (hasTerms && (hasNoResults || hasResults)) {\n      this.$searchPlaceholder.removeClass('visible');\n      this.$quickLinks.removeClass('visible');\n      this.$searchResults.addClass('visible');\n      if (this.animationQuickLinks) {\n        this.animationQuickLinks.animateTo('hidden', { force: this.disableAnimations });\n      }\n      this.animationSearchResults.animateTo('visible', { force: this.disableAnimations });\n    } else if (hasQuickLinks) {\n      this.$searchPlaceholder.removeClass('visible');\n      this.$searchResults.removeClass('visible');\n      this.$quickLinks.addClass('visible');\n      this.animationSearchResults.animateTo('hidden', { force: this.disableAnimations });\n      this.animationQuickLinks.animateTo('visible', { force: this.disableAnimations });\n    }\n  }\n\n  /**\n   * Close the FlyDown when no longer needed\n   *  - Keep focus styling if input is still being interacted with\n   *\n   * @param retainFocus\n   * @private\n   */\n  _closeFlyDown(retainFocus = false) {\n    if (!this.$flyDown.data('is-open')) {\n      return;\n    }\n\n    this.closeEvents.forEach($el => $el.off('.live-search'));\n    this.closeEvents = [];\n\n    SiteMainDimmer.clear(this);\n    this.$flyDown.data('is-open', false);\n    this.$searchPlaceholder.removeClass('visible');\n    this.$quickLinks.removeClass('visible');\n    this.$searchResults.removeClass('visible');\n    if (this.animationQuickLinks) {\n      this.animationQuickLinks.animateTo('closed', { force: this.disableAnimations });\n    }\n    this.animationSearchResults.animateTo('closed', { force: this.disableAnimations });\n    this.animationFlyDown\n      .animateTo('closed', { force: this.disableAnimations, onStart: ({ el }) => el.style.setProperty('--open-height', '0') })\n      .then(() => {\n        this.$el.removeClass('live-search--active');\n\n        if (!retainFocus) {\n          this.$el.removeClass('live-search--focused');\n        }\n      });\n  }\n\n  _openTakeOver() {\n    if (this.animationTakeover.state === 'open') return;\n\n    if (this.$header.hasClass('search--section')) {\n      document.body.classList.add('search-takeover-active');\n    }\n    ScrollLock.lock(this.$el[0]);\n    this.$el.addClass('live-search--takeover');\n    if (this.settings.use_dimmer) {\n      SiteMainDimmer.dim(this);\n    }\n    if (this.mobileSearchBar) {\n      // \"Expand out\" style\n      const el = this.$el[0];\n      const {\n        top,\n        right,\n        left,\n        width,\n      } = el.getBoundingClientRect();\n\n      el.style.setProperty('--live-search-takeover-initial-top', `${top}px`);\n      el.style\n        .setProperty('--live-search-takeover-initial-right', `${window.innerWidth - right}px`);\n      el.style.setProperty('--live-search-takeover-initial-left', `${left}px`);\n      el.style.setProperty('--live-search-takeover-initial-width', `${width}px`);\n\n      el.parentNode.style.height = `${el.parentNode.getBoundingClientRect().height}px`;\n\n      this.animationTakeover.animateTo('open', { force: this.disableAnimations });\n    } else {\n      // \"Slide up\" style\n      this.animationTakeover.animateTo('open', { force: this.disableAnimations, hold: true });\n    }\n  }\n\n  _closeTakeOver() {\n    if (this.animationTakeover.state === 'closed') return;\n\n    if (this.settings.use_dimmer) {\n      SiteMainDimmer.clear(this);\n    }\n    this.animationTakeover.animateTo('closed', { force: this.disableAnimations })\n      .then(() => {\n        ScrollLock.unlock();\n        document.body.classList.remove('search-takeover-active');\n        this.$el.removeClass('live-search--takeover');\n\n        if (this.mobileSearchBar) {\n          this.$el[0].parentNode.style.height = '';\n        }\n      });\n  }\n\n  /**\n   * When the focus element has changed, either by clicking, touching, or tabbing\n   * check to see if it is within the flydown\n   *\n   * @param event\n   * @private\n   */\n  _documentFocus(event) {\n    const $closest = $(event.target).closest('[data-live-search]');\n\n    if ($closest.length) {\n      return;\n    }\n\n    this._closeFlyDown();\n    this._closeTakeOver();\n  }\n}\n"],"sourceRoot":""}