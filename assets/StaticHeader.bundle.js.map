{"version":3,"sources":["webpack:///./node_modules/@shopify/theme-a11y/theme-a11y.js","webpack:///./node_modules/@pixelunion/breakpoint/dist/cjs/index.js","webpack:///./source/scripts/Accordion.js","webpack:///./source/scripts/components/StickyHeader.js","webpack:///./source/scripts/components/navigation/NavMobileSubMenus.js","webpack:///./source/scripts/components/navigation/NavMobile.js","webpack:///./source/scripts/components/navigation/NavDesktopParent.js","webpack:///./source/scripts/components/navigation/NavDesktopMeganavParent.js","webpack:///./source/scripts/components/navigation/NavDesktopMenu.js","webpack:///./source/scripts/sections/StaticHeader.js"],"names":["makeBlock","el","animation","transition","state","stateAttribute","stateChangeAttribute","isOpen","setOpenHeight","style","setProperty","scrollHeight","Accordion","options","content","animate","onStart","blocks","Map","querySelectorAll","forEach","block","close","open","_open","_close","_getBlock","unload","matches","querySelector","has","set","get","onComplete","force","animateTo","then","StickyHeader","settings","body","document","header","menu","menuToggle","postMessage","transitioning","lastToggle","Date","now","stickyClass","scrolledClass","navOpenClass","_toggleStickyHeader","bind","_toggleMenu","sticky_header","classList","add","window","requestAnimationFrame","getComputedStyle","position","indexOf","observer","IntersectionObserver","entries","observe","toggleClick","event","preventDefault","layout","isGreaterThanBreakpoint","addEventListener","remove","navTransitionOutEvent","removeEventListener","setAttribute","getBoundingClientRect","height","onOpen","contains","navTransitionInEvent","closeNavigation","openNavigation","ScrollLock","isLocked","shouldShrink","isIntersecting","_shrink","_expand","disconnect","NavMobileSubMenus","$el","$","closeAllSubmenus","activeMenuClass","activeMenu","linkClass","linkSelector","navTrigger","subMenu","buttonClass","buttonSelector","_bindEvents","off","current","$current","find","each","index","_closeSubmenu","closeAll","on","_linkClicked","_toggleSubmenu","$target","currentTarget","hasClass","_openSubmenu","$link","siblings","first","$menu","$button","addClass","attr","removeClass","closeSubMenus","NavMobile","elements","toggleOpen","$toggleOpen","mobileNav","navPanel","navOverlay","toggleClose","subMenus","events","EventHandler","breakpointHandler","onBreakpointChange","breakpoint","navPanelAnimation","navOverlayAnimation","register","e","unregisterAll","unlock","lock","dataset","focus","trapFocus","overlayClickEvent","toggleCloseEvent","overlayTouchEvent","closeEsc","key","removeTrapFocus","unregister","NavDesktopParent","listitem","link","submenu","_isOpen","parentMenu","closeSiblings","children","i","length","closeTimer","openTimer","mouseover","clearTimeout","setTimeout","mouseout","click","stopPropagation","target","focusin","SiteMainDimmer","NavDesktopMenu","hold","offsetHeight","paddingTop","paddingBottom","parseInt","bounds","right","documentElement","clientWidth","openSelectedBlock","forceClose","bodyClose","focusInClose","NavDesktopMeganavParent","shouldBlockClose","timer","resolveOpenMeganavs","Promise","resolve","openMeganav","openHeight","meganavGhostContent","cloneNode","width","left","appendChild","wrapper","maxHeight","isFinite","Math","min","_openHeight","ghost","parentNode","removeChild","meganavId","parents","_openMeganav","_selectedBlock","_megaNavs","parent","child","navmenuMeganavTrigger","undefined","push","navmenuParent","id","filter","megaNav","blockId","newSelectedBlock","forceOpen","meganav","StaticHeader","section","data","headerSearch","$scripts","$menuToggle","$cartCount","$searchField","$siteNavigation","$desktopNavigation","$headerTools","$promoContent","stickyHeader","navMobile","navDesktop","forms","Forms","live_search","enable","$script","LiveSearch","$header","use_dimmer","mobileSearchButtonEl","disableAnimations","mobileSearchButtonAnimation","mobileSearchTakeoverCancel","SearchForm","response","item_count","toggleClass","setPromoHeightVariable","outerHeight","_closeAllNavigation","name","selectBlock","closeAllMenus"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA,C;;;;;;;;ACvRa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,2DAA2D,mCAAmC,EAAE;AAChG;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gDAAgD;AAC5F;AACA,4CAA4C,gDAAgD;AAC5F;AACA,sEAAsE,0EAA0E;AAChJ;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AA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","file":"StaticHeader.bundle.js","sourcesContent":["/**\n * A11y Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help make your theme more accessible\n */\n\n/**\n * Moves focus to an HTML element\n * eg for In-page links, after scroll, focus shifts to content area so that\n * next `tab` is where user expects. Used in bindInPageLinks()\n * eg move focus to a modal that is opened. Used in trapFocus()\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\nexport function forceFocus(element, options) {\n  options = options || {};\n\n  var savedTabIndex = element.tabIndex;\n\n  element.tabIndex = -1;\n  element.dataset.tabIndex = savedTabIndex;\n  element.focus();\n  if (typeof options.className !== 'undefined') {\n    element.classList.add(options.className);\n  }\n  element.addEventListener('blur', callback);\n\n  function callback(event) {\n    event.target.removeEventListener(event.type, callback);\n\n    element.tabIndex = savedTabIndex;\n    delete element.dataset.tabIndex;\n    if (typeof options.className !== 'undefined') {\n      element.classList.remove(options.className);\n    }\n  }\n}\n\n/**\n * If there's a hash in the url, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - Selector for elements to not include.\n */\n\nexport function focusHash(options) {\n  options = options || {};\n  var hash = window.location.hash;\n  var element = document.getElementById(hash.slice(1));\n\n  // if we are to ignore this element, early return\n  if (element && options.ignore && element.matches(options.ignore)) {\n    return false;\n  }\n\n  if (hash && element) {\n    forceFocus(element, options);\n  }\n}\n\n/**\n * When an in-page (url w/hash) link is clicked, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - CSS selector for elements to not include.\n */\n\nexport function bindInPageLinks(options) {\n  options = options || {};\n  var links = Array.prototype.slice.call(\n    document.querySelectorAll('a[href^=\"#\"]')\n  );\n\n  return links.filter(function(link) {\n    if (link.hash === '#' || link.hash === '') {\n      return false;\n    }\n\n    if (options.ignore && link.matches(options.ignore)) {\n      return false;\n    }\n\n    var element = document.querySelector(link.hash);\n\n    if (!element) {\n      return false;\n    }\n\n    link.addEventListener('click', function() {\n      forceFocus(element, options);\n    });\n\n    return true;\n  });\n}\n\nexport function focusable(container) {\n  var elements = Array.prototype.slice.call(\n    container.querySelectorAll(\n      '[tabindex],' +\n        '[draggable],' +\n        'a[href],' +\n        'area,' +\n        'button:enabled,' +\n        'input:not([type=hidden]):enabled,' +\n        'object,' +\n        'select:enabled,' +\n        'textarea:enabled'\n    )\n  );\n\n  // Filter out elements that are not visible.\n  // Copied from jQuery https://github.com/jquery/jquery/blob/2d4f53416e5f74fa98e0c1d66b6f3c285a12f0ce/src/css/hiddenVisibleSelectors.js\n  return elements.filter(function(element) {\n    return !!(\n      element.offsetWidth ||\n      element.offsetHeight ||\n      element.getClientRects().length\n    );\n  });\n}\n\n/**\n * Traps the focus in a particular container\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Element} elementToFocus - Element to be focused on first\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\n\nvar trapFocusHandlers = {};\n\nexport function trapFocus(container, options) {\n  options = options || {};\n  var elements = focusable(container);\n  var elementToFocus = options.elementToFocus || container;\n  var first = elements[0];\n  var last = elements[elements.length - 1];\n\n  removeTrapFocus();\n\n  trapFocusHandlers.focusin = function(event) {\n    if (container !== event.target && !container.contains(event.target)) {\n      first.focus();\n    }\n\n    if (\n      event.target !== container &&\n      event.target !== last &&\n      event.target !== first\n    )\n      return;\n    document.addEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.focusout = function() {\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.keydown = function(event) {\n    if (event.keyCode !== 9) return; // If not TAB key\n\n    // On the last focusable element and tab forward, focus the first element.\n    if (event.target === last && !event.shiftKey) {\n      event.preventDefault();\n      first.focus();\n    }\n\n    //  On the first focusable element and tab backward, focus the last element.\n    if (\n      (event.target === container || event.target === first) &&\n      event.shiftKey\n    ) {\n      event.preventDefault();\n      last.focus();\n    }\n  };\n\n  document.addEventListener('focusout', trapFocusHandlers.focusout);\n  document.addEventListener('focusin', trapFocusHandlers.focusin);\n\n  forceFocus(elementToFocus, options);\n}\n\n/**\n * Removes the trap of focus from the page\n */\nexport function removeTrapFocus() {\n  document.removeEventListener('focusin', trapFocusHandlers.focusin);\n  document.removeEventListener('focusout', trapFocusHandlers.focusout);\n  document.removeEventListener('keydown', trapFocusHandlers.keydown);\n}\n\n/**\n * Add a preventive message to external links and links that open to a new window.\n * @param {string} elements - Specific elements to be targeted\n * @param {object} options.messages - Custom messages to overwrite with keys: newWindow, external, newWindowExternal\n * @param {string} options.messages.newWindow - When the link opens in a new window (e.g. target=\"_blank\")\n * @param {string} options.messages.external - When the link is to a different host domain.\n * @param {string} options.messages.newWindowExternal - When the link is to a different host domain and opens in a new window.\n * @param {object} options.prefix - Prefix to namespace \"id\" of the messages\n */\nexport function accessibleLinks(elements, options) {\n  if (typeof elements !== 'string') {\n    throw new TypeError(elements + ' is not a String.');\n  }\n\n  elements = document.querySelectorAll(elements);\n\n  if (elements.length === 0) {\n    return;\n  }\n\n  options = options || {};\n  options.messages = options.messages || {};\n\n  var messages = {\n    newWindow: options.messages.newWindow || 'Opens in a new window.',\n    external: options.messages.external || 'Opens external website.',\n    newWindowExternal:\n      options.messages.newWindowExternal ||\n      'Opens external website in a new window.'\n  };\n\n  var prefix = options.prefix || 'a11y';\n\n  var messageSelectors = {\n    newWindow: prefix + '-new-window-message',\n    external: prefix + '-external-message',\n    newWindowExternal: prefix + '-new-window-external-message'\n  };\n\n  function generateHTML(messages) {\n    var container = document.createElement('ul');\n    var htmlMessages = Object.keys(messages).reduce(function(html, key) {\n      return (html +=\n        '<li id=' + messageSelectors[key] + '>' + messages[key] + '</li>');\n    }, '');\n\n    container.setAttribute('hidden', true);\n    container.innerHTML = htmlMessages;\n\n    document.body.appendChild(container);\n  }\n\n  function externalSite(link) {\n    return link.hostname !== window.location.hostname;\n  }\n\n  elements.forEach(function(link) {\n    var target = link.getAttribute('target');\n    var rel = link.getAttribute('rel');\n    var isExternal = externalSite(link);\n    var isTargetBlank = target === '_blank';\n    var isRelNoopenerEmpty = rel === null || rel.indexOf('noopener') === -1;\n\n    if (isTargetBlank && isRelNoopenerEmpty) {\n      link.setAttribute('rel', 'noopener');\n    }\n\n    if (isExternal && isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindowExternal);\n    } else if (isExternal) {\n      link.setAttribute('aria-describedby', messageSelectors.external);\n    } else if (isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindow);\n    }\n  });\n\n  generateHTML(messages);\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Reads the content property on the documentElement ::before pseudo element\n * for a string of ordered, comma-separated, breakpoint names.\n *\n * @returns An ordered array of strings representing the breakpoint names\n *\n */\nfunction readCSSBreakpoints() {\n    return window\n        .getComputedStyle(document.documentElement, ':before')\n        .getPropertyValue('content')\n        .replace(/\"/g, '')\n        .split(',');\n}\n/**\n * Reads the content property on the documentElement ::after pseudo element\n * for a string of the current breakpoint name. This value is updated using\n * dynamically using media queries and should match a value found in\n * the ::before pseudo element.\n *\n * @returns A string representing the current breakpoint name\n *\n */\nfunction readCSSCurrentBreakpoint() {\n    return window\n        .getComputedStyle(document.documentElement, ':after')\n        .getPropertyValue('content')\n        .replace(/\"/g, '');\n}\nvar callbacks = [];\nvar cssBreakpoints = readCSSBreakpoints();\nvar CSSBreakpoint = /** @class */ (function () {\n    function CSSBreakpoint(cssBreakpoint) {\n        this.cssBreakpoint = cssBreakpoint;\n    }\n    Object.defineProperty(CSSBreakpoint.prototype, \"value\", {\n        get: function () {\n            return this.cssBreakpoint;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Checks whether this breakpoint is at least the input breakpoint\n     *\n     * @param breakpointName - The input breakpoint name\n     * @returns Whether this breakpoint is the same or greater than the input breakpoint\n     *\n     */\n    CSSBreakpoint.prototype.min = function (breakpointName) {\n        var comparison = cssBreakpoints.indexOf(this.value) - cssBreakpoints.indexOf(breakpointName);\n        return comparison >= 0;\n    };\n    /**\n     * Checks whether this breakpoint is at most the input breakpoint\n     *\n     * @param breakpointName - The input breakpoint name\n     * @returns Whether this breakpoint is the same or less than the input breakpoint\n     *\n     */\n    CSSBreakpoint.prototype.max = function (breakpointName) {\n        var comparison = cssBreakpoints.indexOf(this.value) - cssBreakpoints.indexOf(breakpointName);\n        return comparison <= 0;\n    };\n    /**\n     * Checks whether this breakpoint is at within the input breakpoint start\n     * and input breakpoint end, inclusive\n     *\n     * @param breakpointNameStart - The starting input breakpoint name\n     * @param breakpointNameEnd - The ending input breakpoint name\n     * @returns Whether this breakpoint is the same or greater than the starting input\n     *          breakpoint and the same or less than the ending input breakpoint\n     *\n     */\n    CSSBreakpoint.prototype.range = function (breakpointNameStart, breakpointNameEnd) {\n        var indexCurrent = cssBreakpoints.indexOf(this.value);\n        var indexStart = cssBreakpoints.indexOf(breakpointNameStart);\n        var indexEnd = cssBreakpoints.indexOf(breakpointNameEnd);\n        return indexStart <= indexCurrent && indexCurrent <= indexEnd;\n    };\n    /**\n     * Checks whether this breakpoint is one of the input breakpoints\n     *\n     * @param breakpointNames - One or more input breakpoint names\n     * @returns Whether this breakpoint is one of the input breakpoints\n     *\n     */\n    CSSBreakpoint.prototype.is = function () {\n        var _this = this;\n        var breakpointNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            breakpointNames[_i] = arguments[_i];\n        }\n        return breakpointNames.some(function (breakpoint) { return breakpoint === _this.value; });\n    };\n    return CSSBreakpoint;\n}());\nvar breakpoints = {\n    previous: new CSSBreakpoint(readCSSCurrentBreakpoint()),\n    current: new CSSBreakpoint(readCSSCurrentBreakpoint()),\n};\n/**\n * Gets the breakpoints\n *\n * @returns The current and previous breakpoint\n *\n */\nfunction get() {\n    return breakpoints;\n}\nexports.get = get;\n/**\n * Adds an event listener to be called when a breakpoint changes\n *\n * @param callback - The function to be called when a breakpoint changes\n *\n */\nfunction onChange(callback) {\n    if (callbacks.indexOf(callback) === -1) {\n        callbacks.push(callback);\n    }\n}\nexports.onChange = onChange;\n/**\n * Removes an event listener to be called when a breakpoint changes\n *\n * @param callback - The function to be removed from the set of event listeners\n *\n */\nfunction offChange(callback) {\n    var index = callbacks.indexOf(callback);\n    if (index !== -1) {\n        callbacks.splice(index, 1);\n    }\n}\nexports.offChange = offChange;\nvar currentMin = function (breakpointName) { return breakpoints.current.min(breakpointName); };\nexports.min = currentMin;\nvar currentMax = function (breakpointName) { return breakpoints.current.max(breakpointName); };\nexports.max = currentMax;\nvar currentRange = function (breakpointNameStart, breakpointNameEnd) { return breakpoints.current.range(breakpointNameStart, breakpointNameEnd); };\nexports.range = currentRange;\nvar currentIs = function () {\n    var _a;\n    var breakpointNames = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        breakpointNames[_i] = arguments[_i];\n    }\n    return (_a = breakpoints.current).is.apply(_a, breakpointNames);\n};\nexports.is = currentIs;\n/*\n * document.styleSheets is considered experimental technology; however,\n * the majority of current browsers implement this functionality.\n *\n * One drawback is under certain conditions, stylesheets may become\n * available due to security rules in the browser and we must be able to\n * fallback gracefully.\n */\nvar styleSheetList = document.styleSheets;\nvar mediaLists = Object.keys(styleSheetList).reduce(function (accumulator, key) {\n    var stylesheet = styleSheetList[key];\n    if (!stylesheet.href || stylesheet.href.indexOf('theme') === -1) {\n        return accumulator;\n    }\n    try {\n        var cssRules = stylesheet.cssRules;\n        for (var i = 0; i < cssRules.length; i++) {\n            var cssRule = stylesheet.cssRules[i];\n            if (!(cssRule instanceof CSSMediaRule)) {\n                continue;\n            }\n            for (var j = 0; j < cssRules.length; j++) {\n                var cssMediaCssRule = cssRule.cssRules[j];\n                if (!(cssMediaCssRule instanceof CSSStyleRule)) {\n                    continue;\n                }\n                if (cssMediaCssRule.selectorText && cssMediaCssRule.selectorText.indexOf('html::after') !== -1) {\n                    accumulator.push(cssRule.media);\n                }\n            }\n        }\n    }\n    catch (_a) {\n        return accumulator;\n    }\n    return accumulator;\n}, []);\n/*\n * Use window.matchMedia when stylesheets are accessible in the browser.\n * matchMedia is theoretically more performant than listening to every resize\n * event because it only fires when a media query boundary is crossed.\n *\n * If stylesheets aren't available, revert back to using the resize event.\n */\nif (mediaLists.length > 0) {\n    mediaLists.forEach(function (mediaList) {\n        var mql = window.matchMedia(mediaList.mediaText);\n        mql.addListener(function () {\n            var cssCurrentBreakpoint = readCSSCurrentBreakpoint();\n            if (breakpoints.current.value !== cssCurrentBreakpoint) {\n                breakpoints.previous = breakpoints.current;\n                breakpoints.current = new CSSBreakpoint(cssCurrentBreakpoint);\n                callbacks.forEach(function (callback) { return callback(breakpoints); });\n            }\n        });\n    });\n}\nelse {\n    window.addEventListener('resize', function () {\n        var cssCurrentBreakpoint = readCSSCurrentBreakpoint();\n        if (breakpoints.current.value !== cssCurrentBreakpoint) {\n            breakpoints.previous = breakpoints.current;\n            breakpoints.current = new CSSBreakpoint(cssCurrentBreakpoint);\n            callbacks.forEach(function (callback) { return callback(breakpoints); });\n        }\n    });\n}\n","import { transition } from '@pixelunion/animations';\n\nconst makeBlock = el => ({\n  animation: transition({\n    el,\n    state: 'open',\n    stateAttribute: 'data-accordion-state',\n    stateChangeAttribute: 'data-accordion-animation',\n  }),\n  isOpen: true,\n});\n\nconst setOpenHeight = el => {\n  el.style.setProperty('--menu-open-height', `${el.scrollHeight}px`);\n};\n\nexport default class Accordion {\n  constructor(el, options = {}) {\n    this.el = el;\n    this.options = {\n      content: '[data-accordion-content]',\n      animate: true,\n      onStart: () => {},\n      ...options,\n    };\n\n    this.blocks = new Map();\n  }\n\n  closeAll(options = {}) {\n    this.el.querySelectorAll(this.options.content).forEach(block => this.close(block, options));\n  }\n\n  openAll(options = {}) {\n    this.el.querySelectorAll(this.options.content).forEach(block => this.open(block, options));\n  }\n\n  open(el, options = {}) {\n    this._open(el, options);\n  }\n\n  close(el, options = {}) {\n    this._close(el, options);\n  }\n\n  toggle(el, options = {}) {\n    const { isOpen } = this._getBlock(el);\n\n    if (isOpen) {\n      this._close(el, options);\n    } else {\n      this._open(el, options);\n    }\n  }\n\n  unload() {\n    this.blocks.forEach(({ animation }) => animation.unload());\n  }\n\n  _getBlock(el) {\n    const block = el.matches(this.options.content) ? el : el.querySelector(this.options.content);\n    if (!this.blocks.has(block)) {\n      this.blocks.set(block, makeBlock(block));\n    }\n\n    return this.blocks.get(block);\n  }\n\n  _open(el, { onComplete = () => {}, force = !this.options.animate }) {\n    const block = this._getBlock(el);\n    if (block.isOpen) return;\n\n    block.isOpen = true;\n    this.options.onStart({ el: block.animation.el, state: 'open' });\n    block.animation.animateTo('open', { force, onStart: ({ el }) => setOpenHeight(el) })\n      .then(state => {\n        if (state === 'open') {\n          onComplete();\n        }\n      });\n  }\n\n  _close(el, { onComplete = () => {}, force = !this.options.animate }) {\n    const block = this._getBlock(el);\n    if (!block.isOpen) return;\n\n    block.isOpen = false;\n    this.options.onStart({ el: block.animation.el, state: 'closed' });\n    setOpenHeight(block.animation.el);\n    block.animation.animateTo('closed', { force })\n      .then(state => {\n        if (state === 'closed') {\n          onComplete();\n        }\n      });\n  }\n}\n","import layout from '../Layout';\nimport ScrollLock from '../helpers/ScrollLock';\n\nexport default class StickyHeader {\n  constructor(options, settings) {\n    this.body = document.querySelector('body');\n    this.header = document.querySelector('[data-site-header]');\n    this.menu = this.header.querySelector('[data-site-navigation]');\n    this.menuToggle = options.menuToggle;\n    this.postMessage = options.postMessage;\n\n    this.settings = settings;\n    this.transitioning = false;\n    this.lastToggle = Date.now() - 1000;\n\n    this.stickyClass = 'site-header-sticky';\n    this.scrolledClass = 'site-header-sticky--scrolled';\n    this.navOpenClass = 'site-header-nav--open';\n\n    this._toggleStickyHeader = this._toggleStickyHeader.bind(this);\n    this._toggleMenu = this._toggleMenu.bind(this);\n\n    if (this.settings.sticky_header) {\n      this.body.classList.add(this.stickyClass);\n      window.requestAnimationFrame(() => {\n        // If browser doesn't support sticky, we don't want any of the sticky functionality.\n        if (window.getComputedStyle(this.header).position.indexOf('sticky') > -1) {\n          this.observer = new IntersectionObserver(entries => this._toggleStickyHeader(entries));\n          this.observer.observe(document.querySelector('[data-header-intersection-target]'));\n\n          this.toggleClick = event => {\n            event.preventDefault();\n            if (layout.isGreaterThanBreakpoint('M')) this._toggleMenu();\n          };\n\n          this.menuToggle.addEventListener('click', this.toggleClick);\n        }\n      });\n    }\n  }\n\n  closeNavigation() {\n    if (this.transitioning) { return; }\n\n    this.menuToggle.classList.remove('active');\n\n    this.navTransitionOutEvent = () => {\n      this.header.classList.remove(this.navOpenClass);\n      this.transitioning = false;\n      this.menu.removeEventListener('transitionend', this.navTransitionOutEvent);\n    };\n\n    this.menu.addEventListener('transitionend', this.navTransitionOutEvent);\n\n    this.transitioning = true;\n    this.menu.setAttribute('style', `margin-top: -${this.menu.getBoundingClientRect().height}px;`);\n\n    this.postMessage('nav:close-all');\n  }\n\n  openNavigation(onOpen = () => {}) {\n    if (this.transitioning || this.header.classList.contains(this.navOpenClass)) {\n      onOpen();\n      return;\n    }\n\n    this.menuToggle.classList.add('active');\n\n    this.navTransitionInEvent = () => {\n      this.transitioning = false;\n      this.menu.removeEventListener('transitionend', this.navTransitionInEvent);\n      onOpen();\n    };\n\n    this.menu.addEventListener('transitionend', this.navTransitionInEvent);\n\n    this.transitioning = true;\n\n    // We need to wait for the browser to set the display to 'block' before we set the margin\n    // This will help with ensuring the different animations/transitions happen in sequence\n    // and not at the same time.\n    window.requestAnimationFrame(() => {\n      this.header.classList.add(this.navOpenClass);\n\n      window.requestAnimationFrame(() => {\n        this.menu.setAttribute('style', 'margin-top: 0;');\n      });\n    });\n  }\n\n  _toggleMenu() {\n    if (this.header.classList.contains(this.navOpenClass)) {\n      this.closeNavigation();\n    } else {\n      this.openNavigation();\n    }\n  }\n\n  /**\n   * Sticky header only shows as sticky after scroll\n   *\n   * @private\n   */\n  _toggleStickyHeader(entries) {\n    if (ScrollLock.isLocked || !layout.isGreaterThanBreakpoint('M')) {\n      return;\n    }\n\n    const shouldShrink = !entries[0].isIntersecting;\n\n    // Sticky header is scrolled, is and is visible -- nothing more to do!\n    if (shouldShrink && this.header.classList.contains(this.scrolledClass)) {\n      return;\n    }\n\n    // We also check to make sure the toggle hasnt activated recently to stop jerky transitions\n    if (this.lastToggle + 500 > Date.now()) {\n      return;\n    }\n\n    this.lastToggle = Date.now();\n\n    if (shouldShrink) {\n      this._shrink();\n    } else {\n      this._expand();\n    }\n  }\n\n  _shrink() {\n    this.closeNavigation();\n    this.header.classList.add(this.scrolledClass);\n  }\n\n  _expand() {\n    this.openNavigation();\n    this.header.classList.remove(this.scrolledClass);\n    this.menuToggle.classList.remove('active');\n  }\n\n  unload() {\n    this.body.classList.remove(this.stickyClass);\n    this.body.classList.remove(this.scrolledClass);\n\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    this.menuToggle.removeEventListener('click', this.toggleClick);\n  }\n}\n","import $ from 'jquery';\n\nimport Accordion from '../../Accordion';\n\nexport default class NavMobileSubMenus {\n  constructor(el) {\n    this.$el = $(el);\n\n    this.Accordion = new Accordion(el);\n    this.closeAllSubmenus();\n\n    // Sub menu selectors\n    this.activeMenuClass = 'navmenu-link-parent-active';\n    this.activeMenu = `.${this.activeMenuClass}`;\n    this.linkClass = 'navmenu-link-parent';\n    this.linkSelector = `.${this.linkClass}`;\n    this.navTrigger = '[data-navmenu-parent]';\n    this.subMenu = '[data-navmenu-submenu]';\n    this.buttonClass = 'navmenu-button';\n    this.buttonSelector = `.${this.buttonClass}`;\n\n    this._bindEvents();\n  }\n\n  unload() {\n    this.$el.off('.mobile-nav');\n    this.Accordion.unload();\n  }\n\n  closeSubMenus(current) {\n    const $current = $(current);\n    $current.find(this.activeMenu).each((index, el) => {\n      this._closeSubmenu($(el));\n    });\n  }\n\n  closeAllSubmenus() {\n    this.Accordion.closeAll({ force: true });\n  }\n\n  _bindEvents() {\n    // Prevent focus state from applying on mouse click\n    this.$el.on('mousedown.mobile-nav', '.navmenu-link', event => {\n      event.preventDefault();\n    });\n\n    this.$el.on('click.mobile-nav', `${this.navTrigger} > .navmenu-link-parent`, this._linkClicked.bind(this));\n\n    this.$el.on('click.mobile-nav', `${this.navTrigger} > .navmenu-button`, event => {\n      event.preventDefault();\n      this._toggleSubmenu(event);\n    });\n  }\n\n  _linkClicked(event) {\n    const $target = $(event.currentTarget);\n\n    if (!$target.hasClass(this.activeMenuClass)) {\n      event.preventDefault();\n      this._openSubmenu($target);\n    }\n  }\n\n  _toggleSubmenu(event) {\n    const $target = $(event.currentTarget);\n    const $link = $target.hasClass(this.linkClass)\n      ? $target : $target.siblings(this.linkSelector).first();\n\n    if ($link.hasClass(this.activeMenuClass)) {\n      this._closeSubmenu($target);\n    } else {\n      this._openSubmenu($target);\n    }\n  }\n\n  _openSubmenu($target) {\n    const $menu = $target.siblings(this.subMenu).first();\n    const $link = $target.hasClass(this.linkClass)\n      ? $target\n      : $target.siblings(this.linkSelector).first();\n    const $button = $target.hasClass(this.buttonClass)\n      ? $target\n      : $target.siblings(this.buttonSelector).first();\n\n    $link.addClass(this.activeMenuClass);\n\n    const onComplete = () => {\n      $link.attr('aria-expanded', true);\n      $button.attr('aria-expanded', true);\n    };\n\n    this.Accordion.open($menu[0], { onComplete });\n  }\n\n  _closeSubmenu($target) {\n    const $menu = $target.siblings(this.subMenu).first();\n    const $link = $target.hasClass(this.linkClass)\n      ? $target\n      : $target.siblings(this.linkSelector).first();\n    const $button = $target.hasClass(this.buttonClass)\n      ? $target\n      : $target.siblings(this.buttonSelector).first();\n\n    $link.removeClass(this.activeMenuClass);\n\n    const onComplete = () => {\n      $link.attr('aria-expanded', false);\n      $button.attr('aria-expanded', false);\n    };\n\n    this.Accordion.close($menu[0], { onComplete });\n    this.closeSubMenus($menu);\n  }\n}\n","import { transition } from '@pixelunion/animations';\nimport EventHandler from '@pixelunion/events';\nimport {\n  trapFocus,\n  removeTrapFocus,\n} from '@shopify/theme-a11y';\n\nimport * as breakpoint from '@pixelunion/breakpoint';\nimport NavMobileSubMenus from './NavMobileSubMenus';\nimport ScrollLock from '../../helpers/ScrollLock';\n\nexport default class NavMobile {\n  constructor(elements) {\n    this.el = elements.$el[0];\n    this.toggleOpen = elements.$toggleOpen[0];\n\n    this.mobileNav = this.el.querySelector('[data-mobile-nav]');\n    this.navPanel = this.el.querySelector('[data-mobile-nav-panel]');\n    this.navOverlay = this.el.querySelector('[data-mobile-nav-overlay]');\n    this.toggleClose = this.el.querySelector('[data-mobile-nav-close]');\n\n    this.isOpen = false;\n    this.subMenus = null;\n\n    this.events = new EventHandler();\n\n    // Revert navigation to original state on breakpoint change\n    this.breakpointHandler = this.onBreakpointChange.bind(this);\n    breakpoint.onChange(this.breakpointHandler);\n\n    this.navPanelAnimation = transition({ el: this.navPanel, state: 'closed' });\n    this.navOverlayAnimation = transition({ el: this.navOverlay, state: 'closed' });\n\n    this.events.register(this.toggleOpen, 'click', e => this._open(e));\n  }\n\n  unload() {\n    this._close();\n    this.events.unregisterAll();\n    breakpoint.offChange(this.breakpointHandler);\n    ScrollLock.unlock();\n  }\n\n  onBreakpointChange() {\n    if (breakpoint.min('L') && this.isOpen) {\n      this._close();\n    }\n  }\n\n  _open(e) {\n    e.preventDefault();\n    if (breakpoint.min('L')) { return; }\n    ScrollLock.lock(this.navPanel);\n    this.isOpen = true;\n\n    // Activate Submenu handler\n    this.subMenus = new NavMobileSubMenus(this.navPanel);\n\n    this.mobileNav.dataset.open = 'true';\n    this.navPanelAnimation.animateTo('open');\n    this.navOverlayAnimation.animateTo('open');\n\n    this.mobileNav.focus();\n    trapFocus(this.mobileNav);\n\n    this.overlayClickEvent = this.events.register(this.navOverlay, 'click', e => this._close(e));\n    this.toggleCloseEvent = this.events.register(this.toggleClose, 'click', e => this._close(e));\n    this.overlayTouchEvent = this.events.register(this.navOverlay, 'touchmove', e => e.preventDefault());\n    this.closeEsc = this.events.register(window, 'keydown', e => {\n      if (e.key === 'Escape') {\n        this._close(e);\n      }\n    });\n  }\n\n  _close(e) {\n    if (e) e.preventDefault();\n\n    this.navPanelAnimation.animateTo('closed');\n    this.navOverlayAnimation.animateTo('closed')\n      .then(() => {\n        this.mobileNav.dataset.open = 'false';\n        removeTrapFocus(this.mobileNav);\n        this.toggleOpen.focus();\n      });\n\n    ScrollLock.unlock();\n    this.isOpen = false;\n\n    // Close any open drop down menus\n    if (this.subMenus) {\n      this.subMenus.closeSubMenus(this.navPanel);\n      this.subMenus.closeAllSubmenus();\n\n      // Unbind Mobile sub menus\n      this.subMenus.unload();\n    }\n\n    this.events.unregister(this.overlayClickEvent);\n    this.events.unregister(this.overlayTouchEvent);\n    this.events.unregister(this.toggleCloseEvent);\n    this.events.unregister(this.closeEsc);\n  }\n}\n","import { transition } from '@pixelunion/animations';\n\nimport * as SiteMainDimmer from '../../helpers/site-main-dimmer';\nimport NavDesktopMenu from './NavDesktopMenu'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopParent {\n  constructor(el, options) {\n    this.listitem = el;\n    this.link = null;\n    this.submenu = null;\n    this._isOpen = false;\n    this.menu = null;\n    this.parentMenu = options.parentMenu;\n    this.closeSiblings = this.parentMenu.closeSiblings;\n\n    const { children } = this.listitem;\n\n    for (let i = 0; i < children.length; i++) {\n      if (children[i].classList.contains('navmenu-link')) {\n        this.link = children[i];\n      } else if (children[i].classList.contains('navmenu-submenu')) {\n        this.submenu = children[i];\n      }\n    }\n\n    this.animation = transition({ el: this.submenu, state: 'closed' });\n\n    this.open = () => {\n      this._open();\n    };\n    this.close = () => {\n      this._close();\n    };\n    this.closeEsc = e => {\n      if (e.key === 'Escape') {\n        this.link.focus();\n        this.close();\n      }\n    };\n\n    this.closeTimer = null;\n    this.openTimer = null;\n    this.mouseover = () => {\n      clearTimeout(this.closeTimer);\n      if (!this.submenu.classList.contains('navmenu-depth-3')) {\n        this.openTimer = setTimeout(this.open, 200);\n      } else {\n        this.open();\n      }\n    };\n\n    this.mouseout = () => {\n      clearTimeout(this.openTimer);\n      this.closeTimer = setTimeout(this.close, 400);\n    };\n\n    this.click = e => {\n      e.stopPropagation();\n      // if already open, continue to link destination\n      if (!e.target.classList.contains('navmenu-link-parent') || this._isOpen) { return; }\n      e.preventDefault();\n      this.open();\n    };\n    this.focusin = e => {\n      e.stopPropagation();\n      if (e.target.classList.contains('navmenu-link-parent')) {\n        this.closeSiblings(this);\n      }\n    };\n\n    this.listitem.addEventListener('mouseover', this.mouseover);\n    this.listitem.addEventListener('mouseout', this.mouseout);\n    this.listitem.addEventListener('touchend', this.click);\n    this.listitem.addEventListener('click', this.click);\n    this.listitem.addEventListener('focusin', this.focusin);\n\n    document.body.addEventListener('click', this.close);\n    document.body.addEventListener('focusin', this.close);\n  }\n\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  forceOpen() {\n    return this._open(true);\n  }\n\n  forceClose() {\n    return this._close(true);\n  }\n\n  _open() {\n    if (this._isOpen) return;\n\n    this._isOpen = true;\n    SiteMainDimmer.dim(this);\n    this.closeSiblings(this);\n    window.addEventListener('keydown', this.closeEsc);\n\n    if (!this.menu) {\n      this.menu = new NavDesktopMenu(this.submenu);\n    }\n\n    this.animation.animateTo('open', {\n      hold: true,\n      onStart: ({ el }) => {\n        let height = 0;\n        for (let i = 0; i < el.children.length; i++) {\n          height += el.children[i].offsetHeight;\n        }\n        const { paddingTop, paddingBottom } = window.getComputedStyle(el);\n        height += parseInt(paddingTop, 10);\n        height += parseInt(paddingBottom, 10);\n\n        this.listitem.style.setProperty('--menu-open-height', `${height}px`);\n\n        // Check for alternate side dropdown\n        const bounds = this.submenu.getBoundingClientRect();\n        if (bounds.right > document.documentElement.clientWidth) {\n          this.listitem.classList.add('alternate-drop');\n        }\n      },\n    })\n      .then(state => {\n        if (state === 'open') {\n          this.link.setAttribute('aria-expanded', true);\n        }\n      });\n  }\n\n  _close(force = false) {\n    if (!this._isOpen) return;\n\n\n    if (this.menu) {\n      this.menu.unload();\n      this.menu = null;\n    }\n\n    this._isOpen = false;\n    window.removeEventListener('keydown', this.closeEsc);\n\n    SiteMainDimmer.clear(this);\n    this.animation.animateTo('closed', { force })\n      .then(state => {\n        if (state === 'closed') {\n          this.listitem.classList.remove('alternate-drop');\n          this.link.setAttribute('aria-expanded', false);\n          this.parentMenu.openSelectedBlock();\n        }\n      });\n  }\n\n  unload() {\n    this.forceClose();\n    this.listitem.removeEventListener('mouseover', this.mouseover);\n    this.listitem.removeEventListener('mouseout', this.mouseout);\n    this.listitem.removeEventListener('touchend', this.click);\n    this.listitem.removeEventListener('click', this.click);\n    this.listitem.removeEventListener('focusin', this.focusin);\n\n    window.removeEventListener('keydown', this.closeEsc);\n    document.body.removeEventListener('click', this.bodyClose);\n    document.body.removeEventListener('focusin', this.focusInClose);\n\n    this.animation.unload();\n  }\n}\n","import * as SiteMainDimmer from '../../helpers/site-main-dimmer';\nimport NavDesktopParent from './NavDesktopParent'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopMeganavParent extends NavDesktopParent {\n  get content() {\n    return this.submenu.querySelector('.navmenu-meganav-wrapper');\n  }\n\n  get openHeight() {\n    return this._openHeight;\n  }\n\n  get blockId() {\n    return this.submenu.dataset.meganavId;\n  }\n\n  mouseout() {\n    // This prevents the menu from closing on mouseout when it's selected in the TE\n    if (!this.parentMenu.shouldBlockClose(this)) return;\n    this.timer = setTimeout(this.close, 400);\n  }\n\n  _open(force = false) {\n    if (this._isOpen) return;\n\n    this._isOpen = true;\n    window.addEventListener('keydown', this.closeEsc);\n\n    // Handles the special meganav to meganav transition behaviour, where\n    // the drawer appears to stay open and transition from old to new height\n    const resolveOpenMeganavs = new Promise(resolve => {\n      const { openMeganav } = this.parentMenu;\n\n      if (openMeganav) {\n        // Set height to start transitioning from: the open height of the previous meganav\n        this.listitem.style.setProperty('--menu-closed-height', `${openMeganav.openHeight}px`);\n\n        // Inject old meganav ghost content\n        const meganavGhostContent = openMeganav.content.cloneNode(true);\n        const { width, left } = openMeganav.content.getBoundingClientRect();\n        meganavGhostContent.classList.add('meganav-ghost');\n\n        // Set styles to absolutely position ghost content correctly\n        meganavGhostContent.style.left = `${left}px`;\n        meganavGhostContent.style.width = `${width}px`;\n\n        this.submenu.appendChild(meganavGhostContent);\n\n        SiteMainDimmer.dim(this);\n\n        // Jump to ghost state\n        this.animation.animateTo('ghost', { force: true })\n          // Close other meganav\n          .then(() => this.parentMenu.openMeganav.forceClose())\n          .then(resolve);\n      } else {\n        // If no other meganavs are open we can start immediately.\n        this.listitem.style.setProperty('--menu-closed-height', 0);\n        SiteMainDimmer.dim(this);\n        resolve();\n      }\n    });\n\n    resolveOpenMeganavs\n      .then(() => this.closeSiblings(this))\n      .then(() => this.animation.animateTo('open', {\n        force,\n        hold: !force,\n        onStart: ({ el }) => {\n          const wrapper = el.querySelector('.navmenu-meganav-wrapper');\n\n          const maxHeight = parseInt(window.getComputedStyle(wrapper).maxHeight, 10);\n          const height = isFinite(maxHeight) ? Math.min(wrapper.scrollHeight, maxHeight) : wrapper.scrollHeight;\n\n          this.listitem.style.setProperty('--menu-open-height', `${height}px`);\n          this._openHeight = height;\n        },\n      }))\n      .then(() => {\n        this.link.setAttribute('aria-expanded', true);\n        this.parentMenu.openMeganav = this;\n\n        // Rapid mouse movement can sometimes cancel animation before ghost is removed,\n        // so when things finally settle make sure we're removing all ghosts.\n        this.submenu.querySelectorAll('.meganav-ghost').forEach(ghost => {\n          ghost.parentNode.removeChild(ghost);\n        });\n      });\n  }\n\n  _close(force = false) {\n    // You would expect to see something like this to avoid \"double closing\" menus,\n    // but in practice it works more reliably to always run when the function is called,\n    // to avoid out-of-sync situations.\n    // if (!this._isOpen) return Promise.resolve();\n\n    if (this.parentMenu.openMeganav === this) {\n      this.parentMenu.openMeganav = null;\n    }\n\n    this._isOpen = false;\n    window.removeEventListener('keydown', this.closeEsc);\n    this.listitem.style.setProperty('--menu-closed-height', 0);\n\n    SiteMainDimmer.clear(this);\n\n    return this.animation.animateTo('closed', { force })\n      .then(() => {\n        this.link.setAttribute('aria-expanded', false);\n        this.parentMenu.openSelectedBlock();\n      });\n  }\n}\n","import NavDesktopParent from './NavDesktopParent'; // eslint-disable-line import/no-cycle\nimport NavDesktopMeganavParent from './NavDesktopMeganavParent'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopMenu {\n  constructor({ children }) {\n    this.parents = [];\n    this.children = children;\n\n    // Meganav, if any, that is fully open (not animating).\n    this._openMeganav = null;\n\n    // Meganav, if any, that is selected for editing in the TE.\n    this._selectedBlock = null;\n    this._megaNavs = null;\n\n    this.closeSiblings = current => {\n      this.parents.forEach(parent => {\n        if (parent !== current) {\n          parent.close();\n        }\n      });\n    };\n\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (child.dataset.navmenuMeganavTrigger !== undefined) {\n        this.parents.push(\n          new NavDesktopMeganavParent(\n            child,\n            { parentMenu: this },\n          ),\n        );\n      } else if (child.dataset.navmenuParent !== undefined) {\n        this.parents.push(\n          new NavDesktopParent(\n            child,\n            { parentMenu: this },\n          ),\n        );\n      } else if (child.classList.contains('navmenu-item')) {\n        child.addEventListener('focusin', this.closeSiblings);\n      }\n    }\n  }\n\n  get openMeganav() {\n    return this._openMeganav;\n  }\n\n  set openMeganav(meganav) {\n    this._openMeganav = meganav;\n  }\n\n  selectBlock(id) {\n    // This is TE only, so only initialize the first time a block is selected\n    if (!this._megaNavs) {\n      this._megaNavs = {};\n      this.parents\n        .filter(parent => parent instanceof NavDesktopMeganavParent)\n        .forEach(megaNav => {\n          this._megaNavs[megaNav.blockId] = megaNav;\n        });\n    }\n\n    const newSelectedBlock = this._megaNavs[id];\n\n    if (this._selectedBlock === newSelectedBlock) return;\n\n    if (this._selectedBlock) {\n      this._selectedBlock.close();\n    }\n\n    this._selectedBlock = this._megaNavs[id];\n\n    // Force open give a better experience when changing settings.\n    // Otherwise the selected block visibly closes and reopens after every\n    // settings change.\n    this._selectedBlock.forceOpen();\n  }\n\n  openSelectedBlock() {\n    if (this._selectedBlock && this.parents.filter(parent => parent.isOpen).length === 0) {\n      this._selectedBlock.open();\n    }\n  }\n\n  // If a block is open and selected in the TE and no other blocks are open\n  // we don't want to close it when we normally would.\n  shouldBlockClose(block) {\n    if (block === this._selectedBlock\n      && this.parents.filter(parent => parent.isOpen).length === 1) {\n      return false;\n    }\n    return true;\n  }\n\n  closeAllMenus() {\n    this._selectedBlock = null;\n    this.parents.forEach(parent => parent.close());\n  }\n\n  unload() {\n    this.parents.forEach(parent => { parent.unload(); });\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].removeEventListener('focusin', this.closeSiblings);\n    }\n  }\n}\n","import $ from 'jquery';\nimport $script from 'scriptjs';\nimport { transition } from '@pixelunion/animations';\nimport EventHandler from '@pixelunion/events';\n\nimport Forms from '../Forms';\nimport layout from '../Layout';\nimport StickyHeader from '../components/StickyHeader';\nimport NavMobile from '../components/navigation/NavMobile';\nimport NavDesktopMenu from '../components/navigation/NavDesktopMenu';\nimport LiveSearch from '../components/search/LiveSearch';\nimport SearchForm from '../components/search/SearchForm';\n\nexport default class StaticHeader {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.settings = section.data.settings;\n    this.postMessage = section.postMessage;\n    this.headerSearch = null;\n\n    this.$scripts = $('[data-scripts]');\n\n    this.$menuToggle = this.$el.find('[data-menu-toggle]');\n    this.$cartCount = this.$el.find('[data-header-cart-count]');\n    this.$searchField = this.$el.find('[data-live-search]');\n\n    this.$siteNavigation = this.$el.find('[data-site-navigation]');\n    this.$desktopNavigation = this.$siteNavigation.find('ul.navmenu-depth-1');\n    this.$headerTools = this.$siteNavigation.find('[data-header-actions]');\n    this.$promoContent = this.$el.find('.small-promo');\n\n    this.stickyHeader = new StickyHeader({\n      header: this.$el[0],\n      menuToggle: this.$menuToggle[0],\n      postMessage: this.postMessage,\n    }, this.settings);\n\n    this.navMobile = new NavMobile({\n      $el: this.$el,\n      $toggleOpen: this.$menuToggle,\n    });\n\n    this.navDesktop = new NavDesktopMenu(document.querySelector('.site-navigation > [data-navmenu]'));\n\n    this.forms = new Forms(this.$el);\n\n    this.events = new EventHandler();\n\n    if (this.settings.live_search.enable) {\n      $script(this.$scripts.data('shopify-api-url'), () => {\n        this.headerSearch = new LiveSearch({\n          $el: this.$searchField,\n          $header: this.$el,\n        }, {\n          ...this.settings.live_search,\n          use_dimmer: true,\n        });\n\n        this.mobileSearchButtonEl = section.el.querySelector('[data-mobile-search-button]');\n\n        if (this.mobileSearchButtonEl) {\n          const disableAnimations = 'reduceAnimations' in document.body.dataset;\n\n          this.mobileSearchButtonAnimation = transition({\n            el: this.mobileSearchButtonEl,\n            state: 'visible',\n          });\n\n          this.events.register(this.mobileSearchButtonEl, 'click', e => {\n            e.stopPropagation();\n            this.headerSearch.open();\n            this.mobileSearchButtonAnimation.animateTo('hidden', { force: disableAnimations });\n          });\n\n          this.mobileSearchTakeoverCancel = section.el.querySelector('[data-live-search-takeover-cancel]');\n          this.events.register(this.mobileSearchTakeoverCancel, 'click', () => {\n            this.mobileSearchButtonAnimation.animateTo('visible', { force: disableAnimations });\n          });\n        }\n      });\n    } else {\n      this.headerSearch = new SearchForm(this.$searchField);\n    }\n\n    $(window).on('cartcount:update', (event, data) => {\n      this.$cartCount\n        .attr('data-header-cart-count', data.response.item_count)\n        .toggleClass('visible', data.response.item_count > 0);\n    });\n\n    // This sets a CSS variable to determine the height of the promo in the header, which is used for\n    // some styles between the xs and large breakpoints.\n    const setPromoHeightVariable = () => {\n      if (this.$promoContent.length > 0) {\n        const height = this.$promoContent.outerHeight();\n        this.$el[0].style.setProperty('--promo-height', `${height}px`);\n      }\n    }\n\n    $(window).on('resize', () => setPromoHeightVariable());\n\n    setPromoHeightVariable();\n  }\n\n  onSectionSelect() {\n    this.stickyHeader.openNavigation();\n  }\n\n  onSectionDeselect() {\n    this._closeAllNavigation();\n  }\n\n  onSectionUnload() {\n    this.stickyHeader.unload();\n    this.navMobile.unload();\n    this.navDesktop.unload();\n    this.forms.unload();\n\n    $(window).off('cartcount:update');\n\n    this.headerSearch.unload();\n\n    this.events.unregisterAll();\n  }\n\n  onSectionMessage(name) {\n    if (name === 'nav:close-all' && layout.isGreaterThanBreakpoint('M')) {\n      this._closeAllNavigation();\n    }\n  }\n\n  onSectionBlockSelect(block) {\n    if (!layout.isGreaterThanBreakpoint('M')) {\n      return;\n    }\n\n    this.stickyHeader.openNavigation(() => {\n      this.navDesktop.selectBlock(block.id);\n    });\n  }\n\n  onSectionBlockDeselect() {\n    this._closeAllNavigation();\n  }\n\n  _closeAllNavigation() {\n    this.navDesktop.closeAllMenus();\n  }\n}\n"],"sourceRoot":""}