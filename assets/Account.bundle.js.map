{"version":3,"sources":["webpack:///./source/scripts/helpers/Quantity.js","webpack:///./source/scripts/Forms.js","webpack:///./node_modules/@pixelunion/animations/dist/animations.es.js","webpack:///./source/scripts/templates/Account.js"],"names":["Quantity","el","$el","$","$inputParent","find","$input","$selectParent","$select","_watchSelect","bind","_watchInput","on","off","event","baseValue","parseInt","currentTarget","value","isNaN","_validateValue","val","trigger","removeClass","addClass","focus","removeAttr","select","attr","Forms","selector","filledClass","fieldSelector","quantityItems","$quantityWrapper","_toggleFilled","_checkFilled","length","each","i","push","forEach","quantityItem","unload","hasClass","target","$target","isFilled","is","toggleClass","e","Account","$accountContents","$loginContent","$addressesContent","$addressButtonFocus","checkFillAnimation","checkAnimation","_loginToggle","_initLoginPage","defaultAddressCheckbox","querySelector","defaultAddressCheck","transition","_initAddressPage","_init","$loginToggle","$login","$recovery","$recoveryHasMessage","preventDefault","$customerAddresses","itemId","eq","Shopify","CustomerAddress","destroy","id","countryEl","provinceEl","options","hideElement","CountryProvinceSelector","state","dataset","animationState","animateTo"],"mappings":"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tB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;;;AAGA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AAC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","file":"Account.bundle.js","sourcesContent":["export default class Quantity {\n  constructor(el) {\n    this.$el = $(el);\n    this.$inputParent = this.$el.find('.form-field--qty-input');\n    this.$input = this.$el.find('[data-quantity-input]');\n    this.$selectParent = this.$el.find('.form-field--qty-select');\n    this.$select = this.$el.find('[data-quantity-select]');\n\n    this._watchSelect = this._watchSelect.bind(this);\n    this._watchInput = this._watchInput.bind(this);\n\n    this.$select.on('change.quantity', this._watchSelect);\n    this.$input.on('change.quantity', this._watchInput);\n  }\n\n  unload() {\n    this.$el.off('.quantity');\n  }\n\n  _validateValue(event) {\n    const baseValue = parseInt(event.currentTarget.value, 10);\n\n    return isNaN(baseValue) ? 1 : baseValue;\n  }\n\n  _watchSelect(event) {\n    const value = this._validateValue(event);\n\n    // Update input to match select\n    this.$input.val(value).trigger('change');\n\n    // Switch to quantity input when 10 or more\n    if (value >= 10) {\n      this.$inputParent\n        .removeClass('hidden')\n        .addClass('visible');\n\n      this.$input\n        .focus()\n        .removeAttr('tabindex')\n        .select();\n\n      this.$selectParent\n        .removeClass('visible')\n        .addClass('hidden');\n\n      this.$select.attr('tabindex', '-1');\n    }\n  }\n\n  _watchInput(event) {\n    this.$input.val(this._validateValue(event));\n  }\n}\n","import $ from 'jquery';\nimport Quantity from './helpers/Quantity';\n\nexport default class Forms {\n  constructor(el, selector = '.form-field-input') {\n    this.$el = $(el);\n    this.filledClass = 'form-field-filled';\n    this.fieldSelector = selector;\n\n    this.quantityItems = [];\n    this.$quantityWrapper = this.$el.find('[data-quantity-wrapper]');\n\n    this._toggleFilled = this._toggleFilled.bind(this);\n    this.$el.on('focus.forms', this.fieldSelector, this._toggleFilled);\n    this.$el.on('blur.forms', this.fieldSelector, this._toggleFilled);\n\n    this._checkFilled();\n\n    if (this.$quantityWrapper.length) {\n      this.$quantityWrapper.each((i, el) => {\n        this.quantityItems.push(\n          new Quantity(el),\n        );\n      });\n    }\n  }\n\n  unload() {\n    this.$el.off('.forms');\n\n    this.quantityItems.forEach(quantityItem => {\n      quantityItem.unload();\n    });\n  }\n\n  _checkFilled() {\n    this.$el.find(this.fieldSelector).each((i, el) => {\n      if ($(el).hasClass(this.filledClass)) return;\n\n      this._toggleFilled(null, el);\n    });\n  }\n\n  _toggleFilled(event = null, el = false) {\n    const target = event ? event.currentTarget : el;\n    const $target = $(target);\n    const { value } = target;\n\n    let isFilled = value.length > 0;\n\n    try {\n      isFilled = isFilled || $target.is(':-webkit-autofill');\n      $target.toggleClass(this.filledClass, isFilled);\n    } catch (e) {\n      $target.toggleClass(this.filledClass, isFilled);\n    }\n  }\n}\n","\n  /*!\n   * @pixelunion/animations v0.1.0\n   * (c) 2019 Pixel Union\n   * Released under the UNLICENSED license.\n  */\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Promisified version of window.requestAnimationFrame.\n * @returns {Promise} Promise will resolve when requestAnimationFrame callback is run.\n */\nfunction raf() {\n  return new Promise(function (resolve) {\n    window.requestAnimationFrame(resolve);\n  });\n}\n/**\n * Represents an HTML element with associate states\n */\n\n\nvar Animation =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {Object} options\n   * @param {HTMLElement}  options.el Target element\n   * @param {String} [options.state=initial] Initial state. This is also the default state.\n   * @param {String} [options.stateAttribute=data-revealer] Attribute name to update with state.\n   * @param {String} [options.stateChangeAttribute=data-revealer-transition] Attribute name to\n   * update with change of state.\n   * @param {String} [options.endEvent=transitionend] Event to listen for at end of state change.\n   * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the\n   * next state change.\n   * @param {Function} [options.onStart] Callback to execute immediate after\n   * applying stateChangeAttribute.\n   */\n  function Animation(options) {\n    _classCallCheck(this, Animation);\n\n    this._el = options.el;\n    this.cancelRunning = null;\n    this._state = options.state || 'initial';\n    this.initialState = this._state;\n    this.stateAttribute = options.stateAttribute || 'data-animation-state';\n    this.stateChangeAttribute = options.stateChangeAttribute || 'data-animation';\n    this.endEvent = options.endEvent || 'transitionend';\n    this.hold = !!options.hold;\n\n    this.onStart = options.onStart || function () {\n      /* do nothing */\n    };\n\n    this.activeEventHandler = null;\n  }\n  /**\n   * Returns target element\n   *\n   * @return {HTMLElement} Target element\n   */\n\n\n  _createClass(Animation, [{\n    key: \"isState\",\n\n    /**\n     * Check if a state is active\n     * @param {String} state State to compare\n     *\n     * @return {Boolean}\n     */\n    value: function isState(state) {\n      return state === this._state;\n    }\n    /**\n     * Sequences a change to a new state.\n     * @param {String} state Target state\n     *\n     * @param {Boolean} options.force Switch to final state immediately\n     *\n     * @param {Function} options.onStart Callback to execute immediately after\n     * applying stateChangeAttribute for this state change only.\n     *\n     * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the\n     * next state change.\n     *\n     * @return {Promise} Resolves when endEvent triggered\n     */\n\n  }, {\n    key: \"animateTo\",\n    value: function animateTo(state) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var from = this._el.dataset[this.stateAttribute] || this._state;\n      var to = state || this.initialState;\n      var force = options.force;\n      var hold = 'hold' in options ? options.hold : this.hold;\n      return new Promise(function (resolve) {\n        if (_this.cancelRunning) {\n          _this.cancelRunning();\n        }\n\n        if (from === to) {\n          // Removing this here fixes some lingering attributes. But why?\n          _this._el.removeAttribute(_this.stateChangeAttribute);\n\n          resolve(from, null);\n          return;\n        }\n\n        var running = true;\n\n        _this.cancelRunning = function () {\n          running = false;\n          resolve(null, null);\n        };\n\n        _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n        _this.activeEventHandler = null;\n\n        if (force) {\n          _this._el.setAttribute(_this.stateChangeAttribute, \"\".concat(from, \"=>\").concat(to));\n\n          _this.onStart({\n            el: _this._el,\n            from: from,\n            to: to\n          });\n\n          if (typeof options.onStart === 'function') {\n            options.onStart({\n              el: _this._el,\n              from: from,\n              to: to\n            });\n          }\n\n          _this._el.setAttribute(_this.stateAttribute, to);\n\n          _this._state = to;\n\n          if (!hold) {\n            _this._el.removeAttribute(_this.stateChangeAttribute);\n          }\n\n          resolve(to, null);\n          return;\n        }\n\n        raf().then(function () {\n          if (!running) throw new Error('cancelled');\n\n          _this._el.setAttribute(_this.stateChangeAttribute, \"\".concat(from, \"=>\").concat(to));\n\n          _this.onStart({\n            el: _this._el,\n            from: from,\n            to: to\n          });\n\n          if (typeof options.onStart === 'function') {\n            options.onStart({\n              el: _this._el,\n              from: from,\n              to: to\n            });\n          }\n\n          return raf();\n        }).then(function () {\n          if (!running) throw new Error('cancelled');\n\n          _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n          _this.activeEventHandler = function (e) {\n            // Ignore any events bubbling up\n            if (e.target !== _this._el || !running) return;\n\n            _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n            if (!hold) {\n              _this._el.removeAttribute(_this.stateChangeAttribute);\n            }\n\n            resolve(to, e);\n          };\n\n          _this._el.addEventListener(_this.endEvent, _this.activeEventHandler);\n\n          _this._el.setAttribute(_this.stateAttribute, to);\n\n          _this._state = to;\n        })[\"catch\"](function (error) {\n          // Only catch 'cancelled' errors.\n          if (error.message !== 'cancelled') throw error;\n        });\n      });\n    }\n    /**\n     * Remove any event listeners\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this._el.removeEventListener(this.endEvent, this.activeEventHandler);\n\n      this.activeEventHandler = null;\n    }\n  }, {\n    key: \"el\",\n    get: function get() {\n      return this._el;\n    }\n    /**\n     * Returns current state\n     *\n     * @return {String} Current state\n     */\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }]);\n\n  return Animation;\n}();\n\n/**\n * Manage state changes for a set of elements\n */\n\nvar AnimationsManager =\n/*#__PURE__*/\nfunction () {\n  function AnimationsManager() {\n    _classCallCheck(this, AnimationsManager);\n\n    this.animations = new Map();\n  }\n  /**\n   * Add a new element and return an animation for that element. If element already has an associated animation, return that animation.\n   * @param {Object} options\n   * @param {HTMLElement}  options.el Target element\n   * @param {String} [options.state=initial] Initial state. This is also the default state.\n   * @param {String} [options.stateAttribute=data-revealer] Attribute name to update with state.\n   * @param {String} [options.stateChangeAttribute=data-revealer-transition] Attribute name to update with change of state.\n   * @param {String} [options.endEvent=transitionend] Event name to listen for at end of state change.\n   * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the next state change.\n   * @param {Function} [options.onStart] Callback to execute immediate after applying stateChangeAttribute.\n   *\n   * @return {Animation}\n   */\n\n\n  _createClass(AnimationsManager, [{\n    key: \"add\",\n    value: function add(options) {\n      if (this.animations.has(options.el)) return this.animations.get(options.el);\n      var animation = new Animation(options);\n      this.animations.set(options.el, animation);\n      return animation;\n    }\n    /**\n     * Remove a single animation\n     * @param {Animation} animation Animation to remove. Any event listeners will also be removed.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(animation) {\n      this.animations[\"delete\"](animation.el);\n      animation.unload();\n    }\n    /**\n     * Remove all animations, including all event listeners.\n     */\n\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this.animations.forEach(function (animation) {\n        return animation.unload();\n      });\n    }\n  }]);\n\n  return AnimationsManager;\n}();\n\nfunction animation(options) {\n  var setOptions = {\n    endEvent: 'animationend',\n    hold: true\n  };\n  return new Animation(_objectSpread2({\n    options: options\n  }, setOptions));\n}\n\nfunction transition(options) {\n  return new Animation(options);\n}\n\nexport { Animation, AnimationsManager, animation, transition };\n","import $ from 'jquery';\n\nimport Forms from '../Forms';\nimport { transition } from '@pixelunion/animations';\n\nexport default class Account {\n  constructor() {\n    this.$accountContents = $('[data-template-account]');\n    this.$loginContent = $('[data-template-account-login]');\n    this.$addressesContent = $('[data-template-account-addresses]');\n    this.$addressButtonFocus = null;\n    this.checkFillAnimation = null;\n    this.checkAnimation = null;\n\n    this._loginToggle = this._loginToggle.bind(this);\n\n    if (this.$loginContent.length) {\n      this._initLoginPage();\n    }\n\n    if (this.$addressesContent.length) {\n      this.defaultAddressCheckbox = this.$addressesContent[0].querySelector('.checkmark');\n      this.defaultAddressCheck = this.$addressesContent[0].querySelector('.checkmark__check');\n      this.checkFillAnimation = transition({ el: this.defaultAddressCheckbox });\n      this.checkAnimation = transition({ el: this.defaultAddressCheck });\n      this._initAddressPage();\n    }\n\n    if (this.$accountContents.length) {\n      this._init();\n    }\n  }\n\n  _init() {\n    new Forms(this.$accountContents);\n  }\n\n  _initLoginPage() {\n    this.$loginToggle = this.$loginContent.find('[data-login-toggle]');\n    this.$login = this.$loginContent.find('[data-account-login-main]');\n    this.$recovery = this.$loginContent.find('[data-account-login-recovery]');\n    this.$recoveryHasMessage = this.$recovery.find('[data-recovery-has-message]');\n\n    this.$loginToggle.on('click', this._loginToggle);\n\n    if (this.$recoveryHasMessage.length) {\n      this._loginToggle();\n    }\n  }\n\n  _loginToggle(event = null) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    this.$login.toggleClass('visible');\n    this.$recovery.toggleClass('visible');\n  }\n\n  _initAddressPage() {\n    const $customerAddresses = this.$addressesContent.find('[data-address-id]');\n\n    this.$addressesContent.on('click', '[data-edit-address]', event => {\n      const $target = $(event.currentTarget);\n      const itemId = $target.attr('data-edit-address');\n\n      $customerAddresses.removeClass('visible');\n      this.$addressButtonFocus = $target;\n\n      $(`[data-address-id=\"${itemId}\"]`)\n        .addClass('visible')\n        .find('.form-field-input')\n        .eq(0)\n        .focus();\n    });\n\n    this.$addressesContent.on('click', '[data-edit-address-cancel]', () => {\n      $customerAddresses.removeClass('visible');\n      $('[data-address-id=\"new\"]').addClass('visible');\n\n      // Return focus to last used button\n      this.$addressButtonFocus.focus();\n      this.$addressButtonFocus = null;\n    });\n\n    this.$addressesContent.on('click', '[data-delete-address]', event => {\n      const itemId = $(event.target).attr('data-delete-address');\n      Shopify.CustomerAddress.destroy(itemId, '');\n    });\n\n    $customerAddresses.each((i, el) => {\n      const id = $(el).attr('data-address-id');\n\n      const countryEl = `customer_addr_${id}_country`;\n      const provinceEl = `customer_addr_${id}_province`;\n      const options = { hideElement: `address_province_container_${id}` };\n\n      // Initiate provinces for address forms\n      new Shopify.CountryProvinceSelector(countryEl, provinceEl, options);\n    });\n\n    this.$addressesContent.on('click', '#address_default_address_new', () => {\n      let state = 'checked';\n      if (this.defaultAddressCheckbox.dataset.animationState === 'checked') {\n        state = 'unchecked';\n      }\n\n      this.checkFillAnimation.animateTo(state);\n      this.checkAnimation.animateTo(state);\n    });\n  }\n}\n"],"sourceRoot":""}